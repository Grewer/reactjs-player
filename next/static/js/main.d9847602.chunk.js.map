{"version":3,"sources":["../../../use-state/lib/use-state.js","../../../use-fullscreen/lib/use-fullscreen.js","../../../use-flvjs/lib/use-flvjs.js","../../src/Flvjs/index.js","../../../use-hlsjs/lib/use-hlsjs.js","../../src/Hlsjs/index.js","../../src/Native/index.js","../../../use-native/lib/use-native.js","../../src/ReactPlayerContext/index.js","../../../../node_modules/style-inject/dist/style-inject.es.js","../../src/TimeSlider/index.js","../../src/ReactPlayerSkin/index.js","../../src/ReactPlayerSkin/bg.png","../../src/ReactPlayerSkinWapper/index.js","../../src/ReactPlayer/index.js","../../../use-time/lib/use-time.js","../../../use-volume/lib/use-volume.js","../../../use-playback-rate/lib/use-playback-rate.js","../../../use-pip/lib/use-pip.js","../../../use-autoplay/lib/use-autoplay.js","../../src/GrindPlayer/index.js","../../src/index.js","App.js","../../reactjs-player/dist/GrindPlayer.swf","../../reactjs-player/dist/flashlsOSMF.swf","blank16x9.png","serviceWorker.js","index.js"],"names":["debug","console","getFlvjs","src","Promise","resolve","global","script","Flvjs","props","getVideoElement","config","onMsgChange","React","player","setPlayer","getVideo","ref","configRef","onMsgChangeRef","play","isLive","type","url","cleanup","errMsg","destroyPlayer","el","detail","useFlvjs","PropTypes","isRequired","getHls","Hlsjs","enableWorker","currentSrc","info","details","useHlsjs","Native","loaded","onUnload","useNative","ReactPlayerContext","styleInject","css","insertAt","document","head","style","getValue","e","rect","duration","w","getEventXCoordinate","Math","MouseTooltip","tooltip","translateX","getMouseTranslateX","className","styles","transform","numeral","Slider","live","hiding","currentTime","buffered","onChange","sliding","setSliding","value","setValue","setTooltip","sliderRef","reactRef","updateRef","onClick","v","onMouseDown","react","left","width","update","undefined","onMouseUp","onMouseMove","onSliderMouseOver","onSliderMouseMove","onResize","bufferedScaleX","i","end","getBufferedEnd","getBufferedScaleX","trackTranslateX","getTrackTranslateX","role","tabIndex","onKeyDown","onMouseOver","onFocus","onTouchStart","opacity","ReactPlayerSkin","prevented","loading","paused","ended","seeking","waiting","onPlayClick","onPauseClick","changeCurrentTime","muted","volume","changeVolume","onMutedClick","playbackRate","changePlaybackRate","pictureInPictureEnabled","pip","requestPictureInPicture","exitPictureInPicture","fullscreen","requestFullscreen","exitFullscreen","kernelMsg","hovering","setHovering","visible","setVisible","setHiding","onBodyClick","onMenuClick","parseFloat","onMouseEnter","matched","id","l","playing","backgroundImage","onMouseLeave","component","MutedSvg","UnmutedSvg","max","overlay","selectedKeys","key","placement","trigger","object","ReactPlayerSkinWapper","ReactjsPlayer","kernel","onKernelError","controls","videoProps","playerProps","children","setKernelMsg","videoRef","playerRef","getPlayerElement","msg","stateProps","setLoading","setPrevented","setPaused","setEnded","setSeeking","setWaiting","onCanPlay","onPause","onPlay","onPlaying","onEnded","onSeeked","onSeeking","onCanPlayThrough","onWaiting","useVideoState","timeProps","setDuration","setCurrentTime","setBuffered","onDurationChange","Number","timestamp","onTimeUpdate","performance","onProgress","t","useTime","volumeProps","m","setMuted","setVolume","onVolumeChange","useVolume","playbackRateProps","setPlaybackRate","onRateChange","r","usePlaybackRate","piPProps","enabled","setPiP","onEnterPictureInPicture","onLeavePictureInPicture","usePiP","fullscreenProps","setFullscreen","videoEl","fullscreenElement","useFullscreen","onDocumentClick","useAutoplay","kernelProps","GrindPlayer","grindPlayerSwf","flashlsOSMFSwf","flashVars","autoPlay","bufferTime","streamType","height","wmode","allowFullScreen","allowScriptAccess","bgcolor","string","ReactPlayer","delay","timeout","setTimeout","App","memo","useState","list","setList","setInfo","setSrc","setVideoProps","useForm","form","useEffect","ua","UAParser","navigator","userAgent","device","playsInline","supportedList","Hls","flvjs","isSupported","push","getFeatureList","networkStreamIO","enableStashBuffer","autoCleanupSourceBuffer","stashInitialSize","fixAudioTimestampGap","os","name","getSupportedList","useCallback","item","find","it","setFieldsValue","onSubmit","values","a","async","onVideoEvent","log","length","layout","onFinish","initialValues","Item","map","Option","htmlType","blank16x9","alt","onEmptied","onEncrypted","onError","onLoadedData","onLoadedMetadata","onLoadStart","onStalled","onSuspend","onAbort","defaultActiveKey","TabPane","tab","title","column","size","label","href","module","exports","Boolean","window","location","hostname","match","VConsole","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"khEAEA,ICCMA,EAAQC,QAAd,MCDMC,EAAW,SAAAC,G,OACf,IAAIC,SAAQ,SAAAC,G,GACNC,EAAJ,MACED,EAAQC,EAARD,W,KAGIE,EAASD,yBAAf,UACAA,+BACAC,SAAgB,W,OAAMF,EAAQC,EAAd,QAChBC,UAAiB,W,OAAMF,EAAQC,EAAd,QACjBC,WACAA,aAIEP,EAAQC,QAAd,MCbMO,EAAQ,SAAAC,G,ODiCC,SAAC,G,IAAEC,EAAgD,EAAhDA,gBAAiBP,EAA+B,EAA/BA,IAAKQ,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,Y,IAClBC,aADoC,M,GACzDC,EADyD,KACjDC,EADiD,KAG1DC,EAAWH,WAAjB,GACMI,EAAMJ,WAAZ,GACMK,EAAYL,WAAlB,GACMM,EAAiBN,WAAvB,GAEAA,eAAgB,W,OACdI,YACAC,YACO,WACLD,gBAED,CAACd,EANJU,IAQAA,eAAgB,W,IACRO,E,6BAAO,a,iFACLlB,EADK,4C,UAENI,EAAD,OAAiBW,YAFV,G,sBAGTjB,yF,0BAGFe,EAAUT,EAAA,mBAA0B,CAAEe,QAAF,EAAgBC,KAAhB,MAA6BC,IAAKpB,GAAOe,EAA7EH,U,gGAEFA,QACAI,gBACA,GACEC,MAED,CAdHP,IAgBAA,eAAgB,W,IACRW,EAAU,W,OAnDE,SAAAV,G,GACpB,E,KAIEA,UACA,MAAOW,I,IAEPX,WACA,MAAOW,I,IAEPX,uBACA,MAAOW,I,IAEPX,YACA,MAAOW,MAoCeC,CAAN,I,IAChB,E,OACE,E,IAEIC,EAAKX,EAAX,U,OACA,GAGAF,wBACAA,EAVoB,OAYpBA,KAAUR,eAAVQ,OAAqC,cAC/BK,GAAkBA,EAAtB,SACEA,UAAuB,CAAEG,KAAF,EAAQM,cAGnC,GAVE,IAWD,CAlBHf,IChEAgB,IACA,MAGFrB,YAAkB,CAChBE,gBAAiBoB,SADD,WAEhB3B,IAAK2B,IAFW,OAGhBnB,OAAQmB,IAHQ,OAIhBlB,YAAakB,SAAeC,YAG9BvB,eAAqB,CACnBL,IADmB,GAEnBQ,OAAQ,MAGV,MAAeE,SAAf,GCnBMmB,EAAS,SAAA7B,G,OACb,IAAIC,SAAQ,SAAAC,G,GACNC,EAAJ,IACED,EAAQC,EAARD,S,KAGIE,EAASD,yBAAf,UACAA,+BACAC,SAAgB,W,OAAMF,EAAQC,EAAd,MAChBC,UAAiB,W,OAAMF,EAAQC,EAAd,MACjBC,WACAA,aAIEP,EAAQC,QAAd,MCbMgC,EAAQ,SAAAxB,G,ODuBC,SAAC,G,IAAEC,EAAgD,EAAhDA,gBAAiBP,EAA+B,EAA/BA,IAAKQ,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,Y,IAClBC,aADoC,M,GACzDC,EADyD,KACjDC,EADiD,KAE1DC,EAAWH,WAAjB,GACMI,EAAMJ,WAAZ,IACMK,EAAYL,WAAlB,MACMM,EAAiBN,WAAvB,GAEAA,eAAgB,W,OACdI,YACAC,YACO,WACLD,gBAED,CAACd,EANJU,IAQAA,eAAgB,W,IACRO,E,6BAAO,a,iFACLY,EADK,4C,UAEN1B,EAAD,KAAeW,YAFR,G,sBAGTjB,yF,0BAGFe,EAAU,IAAIT,EAAJ,OAAiB4B,cAAc,GAAUhB,EAAnDH,W,gGAGFA,QACAI,gBACA,GACEC,MAED,CAfHP,IAiBAA,eAAgB,W,IACRW,EAAU,W,OAzCE,SAAAV,G,GACpB,E,IAEIA,YACA,MAAOW,KAqCaC,CAAN,I,IACXZ,IAAWG,EAAhB,Q,OACE,E,IAEIkB,EAAalB,EAAnB,QACMU,EAAKX,EAAX,U,OACA,GAGAF,iBACAA,OAAYR,aAAZQ,gBAA8C,WACxCqB,IAAelB,EAAnB,SACEH,aAAkBG,EAAlBH,YAQJA,KAAUR,aAAVQ,OAAmC,cAC7BK,GAAkBA,EAAlBA,YAAoDiB,EAAxD,OACEjB,UAAuB,CAAEG,KAAMc,EAAR,KAAmBR,OAAQQ,EAAKC,aAG3D,GAlBE,IAmBD,CA3BHxB,ICtDAyB,IACA,MAGFL,YAAkB,CAChBvB,gBAAiBoB,SADD,WAEhB3B,IAAK2B,IAFW,OAGhBnB,OAAQmB,IAHQ,OAIhBlB,YAAakB,SAAeC,YAG9BE,eAAqB,CACnB9B,IADmB,GAEnBQ,OAAQ,MAGV,MAAeE,SAAf,GCjBM0B,EAAS,SAAA9B,G,OCFA,SAAC,G,IAAEC,EAAwC,EAAxCA,gBAAiBP,EAAuB,EAAvBA,IAAKS,EAAkB,EAAlBA,YAChCK,EAAM,WAAa,CAAEP,gBAAF,EAAmBP,IAAnB,GAA4BS,YAA5B,EAAyC4B,QAAQ,IAE1E3B,eAAgB,WACdI,gBACAA,8BACC,CAACd,EAHJU,IAKAA,eAAgB,WACdI,4B,IACMU,EAAKV,UAAX,kBACA,IAGAU,UACAA,MAPoB,EASpBA,YACC,CAlBqD,I,IAqBlDc,EAAW,iBAAkB,W,IAC3Bd,EAAKV,UAAX,kB,GACA,E,CAGAU,UACAA,S,IAEEA,SACA,MAAOF,QATX,IAYAZ,eAAgB,W,OACdP,qCACAA,iCACAA,+BACO,WACLmC,EAAS,CAAEnB,KAAM,iBAElB,CAPHT,ID9BA6B,IACA,MAGFH,YAAmB,CACjB7B,gBAAiBoB,SADA,WAEjB3B,IAAK2B,IAFY,OAGjBlB,YAAakB,SAAeC,YAG9BQ,eAAsB,CACpBpC,IAAK,IAGP,MAAeU,SAAf,GEjBM8B,EAAqB9B,kBAAoB,CAAC,GAAI,eCFpD,SAAS+B,EAAYC,EAAK5B,QACX,IAARA,IAAiBA,M,IAClB6B,EAAW7B,EAAf,S,GAEK4B,GAAL,qBAAmBE,S,KAEfC,EAAOD,eAAiBA,sCAA5B,GACIE,EAAQF,uBAAZ,SACAE,kBAEA,QAAIH,GACEE,EAAJ,WACEA,iBAAyBA,EAAzBA,YAKFA,iBAGEC,EAAJ,WACEA,uBAEAA,cAAkBF,wBAAlBE,K,09ICjBJ,IAoBMC,GAAW,SAACC,EAAGC,EAAMC,G,IACnBC,EARoB,SAAAH,G,OACtBA,kBAAoB,GAAKA,iBAA7B,OACSA,oBAAP,MAEKA,WAAP,EAIUI,IAAyBH,EAAnC,K,OACI,GAAJ,EACE,EAEEE,GAAKF,EAAT,MACE,EAEKI,WAAYH,EAAD,EAAiBD,EAAnC,QA4BIK,GAAe,UAAW,Y,IAAGJ,EAAwB,EAAxBA,SAAUK,EAAc,EAAdA,QACrCC,EARmB,SAAC,G,IAAEN,EAAwB,EAAxBA,SAAUK,EAAc,EAAdA,Q,OAClC,GAAJ,EACE,GAEO,IAAD,EAAD,WAAP,GAImBE,CAAmB,CAAEP,SAAF,EAAYK,Y,OAEhD,yBAAKG,UAAWC,EAAgBb,MAAO,CAAEc,UAAW,cAAF,iBAChD,yBAAKF,UAAWC,GAAaE,cAFjC,iBAOFP,aAAyB,CACvBJ,SAAUvB,WADa,WAEvB4B,QAAS5B,WAAiBC,YAG5B,IAAMkC,GAAS,UAAW,Y,IAAGC,EAAmF,EAAnFA,KAAMC,EAA6E,EAA7EA,OAAQC,EAAqE,EAArEA,YAAaf,EAAwD,EAAxDA,SAAUgB,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,W,IACnE3D,aADoF,G,GACvG4D,EADuG,KAChGC,EADgG,K,IAEhF7D,aAFgF,G,GAEvG6C,EAFuG,KAE9FiB,EAF8F,KAIxGC,EAAY/D,WAAlB,MACMgE,EAAWhE,WAAjB,MACMiE,EAAYjE,WAAlB,MAEMkE,EAAU,iBACd,SAAA5B,G,GACEA,mBACAqB,OACA,E,KAGMpB,EAAOD,gBAAb,wBACM6B,EAAI9B,GAASC,EAAGC,EAAtB,GACAkB,QAEF,CAACA,EAAUJ,EAAMb,EAXnB,IAcM4B,EAAc,iBAClB,SAAA9B,G,GACEA,mBACKyB,GAAcA,EAAf,aAAJ,E,KAGMM,EAAQN,UAAd,wBACAC,UAAmB,CAAEM,KAAMD,EAAR,KAAoBE,MAAOF,EAAME,OACpDZ,SAEF,CAACN,EAVH,IAaMmB,EAAS,iBAAkB,WAC1BP,GAAcA,EAAnB,eAIIQ,IAAcR,UAAlB,OACEJ,EAASI,UAATJ,YAGEY,IAAcR,UAAlB,SACEH,EAAWG,UAAXH,SAEFG,kBAZF,IAeMS,EAAY,iBAChB,SAAApC,G,GACEA,mBACAqB,MACIK,GAAYA,EAAZA,SAAJ,EAA+C,C,IACvCG,EAAI9B,GAASC,EAAG0B,EAAJ,QAAlB,GACAC,UAAoB,CAAEL,MAAOO,GAC7BK,IACAf,QAGJ,CAACA,EAAUjB,EAAUgC,EAXvB,IAcMG,EAAc,iBAClB,SAAArC,G,GACEA,mBACK0B,GAAaA,EAAd,SAAJ,E,KAGMG,EAAI9B,GAASC,EAAG0B,EAAJ,QAAlB,GACIC,EAAJ,QACEA,mBAEAA,UAAoB,CAAEL,MAAOO,GAC7B1E,+BAGJ,CAAC+C,EAdH,IAiBAxC,eAAgB,W,OACd,GACEkC,yCACAA,uCAEAA,yCACAA,2CACAA,wCACO,WACLA,4CACAA,0CAEAA,4CACAA,8CACAA,6CAGG,eACN,CAACwB,EAASiB,EAlBb3E,I,IAoBM4E,EAAoB,iBACxB,SAAAtC,G,GACEA,oBACA,E,KAGM+B,EAAQN,UAAd,wBACAC,UAAmB,CAAEM,KAAMD,EAAR,KAAoBE,MAAOF,EAAME,UAEtD,CATF,IAYMM,EAAoB,iBACxB,SAAAvC,G,GACEA,mBACK0B,GAAaA,EAAd,SAAJ,E,KAGMG,EAAI9B,GAASC,EAAG0B,EAAJ,QAAlB,GACIC,EAAJ,QACEA,qBAEAA,UAAoB,CAAEpB,QAASsB,GAC/B1E,+BAGJ,CAAC+C,EAdH,IAiBMsC,EAAW,iBAAkB,SAAAxC,G,GACjCA,mBACKyB,GAAcA,EAAnB,Q,KAGMM,EAAQN,UAAd,wBACAC,UAAmB,CAAEM,KAAMD,EAAR,KAAoBE,MAAOF,EAAME,UANtD,IASAvE,eAAgB,W,OACdP,+BACO,WACLA,qCAED,CALHO,I,IAOM+E,EAzLkB,SAAC,G,IAAEvB,EAAqD,EAArDA,SAAUD,EAA2C,EAA3CA,YAAaG,EAA8B,EAA9BA,QAASlB,EAAqB,EAArBA,S,OAAqB,EAAXa,MACzD,GAARA,GAAJ,EACE,GAjCmB,SAACE,EAAaC,G,IACnC,E,OACE,E,IAEG,IAAIwB,EAAIxB,SAAb,EAAkC,GAAlC,EAA0CwB,GAA1C,EAAkD,C,IAC1CC,EAAMzB,MAAZ,G,GACID,MAAsBC,YAA1B,E,OACE,E,OAGJ,EAyBU0B,CAAe3B,EAAzB,GACO,WAAP,GAoLuB4B,CAAkB,CAAE3B,SAAF,EAAYD,YAAZ,EAAyBG,QAAzB,EAAkClB,SAAlC,EAA4Ca,SAC/E+B,EAlLmB,SAAC,G,IAAE5C,EAAkC,EAAlCA,SAAUe,EAAwB,EAAxBA,Y,OAAwB,EAAXF,KAEjD,EAEE,IAAJ,GACE,KAEO,IAAD,IAAD,aAAP,GA2KwBgC,CAAmB,CAAE7C,SAAF,EAAYe,YAAaG,EAAUE,EAAnC,EAAwDP,S,OAGjG,yBACEiC,KADF,SAEEC,SAFF,EAGEvC,UAAWU,EAAUT,EAAuBA,EAC5C7C,IAJF,EAKE8D,QALF,EAMEsB,UAAW,aACXC,YAPF,EAQEd,YARF,EASEe,QAAS,eAEPrC,GACA,4BAAQ5C,KAAR,SAAsBuC,UAAWC,EAAqB0C,aAAcvB,GAClE,0BAAMpB,UAAWC,EAAmBb,MAAO,CAAEwD,QAASlC,EAAU,EAAI,I,2BAC7DP,cAdb,cAkBE,yBAAKH,UAAWC,GACd,yBAAKD,UAAWC,EAAuBb,MAAO,CAAEc,UAAW,UAAF,iBACzD,yBAAKF,UAAWC,EAAoBb,MAAO,CAAEc,UAAW,cAAF,mBAExD,yBAAKF,UAAWC,EAAyBb,MAAO,CAAEc,UAAW,cAAF,iBACzD,4BACEzC,KADF,SAEEuC,UAAS,UAAKC,EAAL,YAA4BK,EAASL,GAFhD,IAGEmB,YAHF,EAIEuB,aAAcvB,MAGhBf,GAAQ,sBAAcb,SAAd,EAAkCK,QAASa,EAAUE,EAAQf,QAK7EO,aAAmB,CACjBC,KAAMpC,SADW,WAEjBqC,OAAQrC,SAFS,WAGjBsC,YAAatC,WAHI,WAIjBuB,SAAUvB,WAJO,WAKjBuC,SAAUvC,IALO,OAMjBwC,SAAUxC,IANO,KAOjByC,QAASzC,SAPQ,WAQjB0C,WAAY1C,SAAeC,YAG7BkC,gBAAsB,CACpBI,SADoB,KAEpBC,SAAU,c,msSC1PNoC,GAAkB,UACtB,Y,IACExC,EA4BI,EA5BJA,KACA/D,EA2BI,EA3BJA,IACAwG,EA0BI,EA1BJA,UACAC,EAyBI,EAzBJA,QACAC,EAwBI,EAxBJA,OACAC,EAuBI,EAvBJA,MACAC,EAsBI,EAtBJA,QACAC,EAqBI,EArBJA,QACAC,EAoBI,EApBJA,YACAC,EAmBI,EAnBJA,aACA7D,EAkBI,EAlBJA,SACAgB,EAiBI,EAjBJA,SACAD,EAgBI,EAhBJA,YACA+C,EAeI,EAfJA,kBACAC,EAcI,EAdJA,MACAC,EAaI,EAbJA,OACAC,EAYI,EAZJA,aACAC,EAWI,EAXJA,aACAC,EAUI,EAVJA,aACAC,EASI,EATJA,mBACAC,EAQI,EARJA,wBACAC,EAOI,EAPJA,IACAC,EAMI,EANJA,wBACAC,EAKI,EALJA,qBACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,kBACAC,EAEI,EAFJA,eACAC,EACI,EADJA,U,IAEgCpH,cAD5B,G,GACGqH,EADH,KACaC,EADb,K,IAE0BtH,cAF1B,G,GAEG0D,EAFH,KAEYC,EAFZ,K,IAG0B3D,cAH1B,G,GAGGuH,EAHH,KAGYC,EAHZ,K,IAIwBxH,cAJxB,G,GAIGsD,EAJH,KAIWmE,GAJX,KAMEC,GAAc,iBAAkB,W,OAAMF,GAAN,KAAtC,IAEMG,GAAc,iBAClB,SAAArF,GACEsE,EAAmBgB,WAAWtF,EAAD,IAA7BsE,KACAY,QAEF,CALF,IAQMK,GAAe,iBAAkB,W,GACjCpI,EAAJ,WAAuB,C,IACfqI,EAAUrI,aAAhB,oC,GACIqI,GAAWA,EAAf,Q,OAIFR,QAPF,IAUAtH,eAAgB,W,OACdkC,2CACO,W,OAAMA,0CAAN,OACN,CAHHlC,KAKAA,eAAgB,WACdwH,MACAC,SACC,CAHHzH,IAKAA,eAAgB,YACVqH,MAAJ,IACEI,SAED,CAACJ,EAAU3D,EAJd1D,IAMAA,eAAgB,W,GACVsD,SAAJ,E,OACS,a,IAEHyE,EAAKtI,EAAA,YAAkB,W,OAAMgI,IAAN,KAA7B,K,OACO,W,OAAMhI,eAAN,MACN,CAAC6D,EAAQ+D,EAAU3D,EANtB1D,I,IAQMgI,GAAI1I,IAAQyG,GAAW,IAA7B,GAEMkC,IAAWnC,IAAD,IAAhB,E,OAGE,yBAAK9C,UAAWC,IACd,yBACED,UAAWM,EAASL,GAA0BA,GAC9Cb,MAAO,CAAE8F,gBAAiB,OAAF,OChHnB,qQDgHmB,QAE1B,4BACEzH,KADF,SAEEuC,UAAW1D,EAAM2D,GAAyBA,GAC1C0B,YAAa,W,OAAM8C,IAAN,IACbvD,QAAS,W,OAAMuD,IAAN,OAETtB,GAAD,WAA2C,IAA3C,GACC,yBAAKnD,UAAWC,IACd,sBAbN,OAgBG3D,SAAcwG,MAAdxG,IACC,4BAAQmB,KAAR,SAAsBuC,UAAWC,GAAciB,QAASkC,GACtD,sBAlBN,OAqBE,yBACEpD,UAAWM,EAASL,GAAwBA,GAC5C4E,aAAc,W,OAAA,IACdM,aAAc,W,OAAMb,GAAN,KAEd,sBACEjE,KADF,EAEEC,OAFF,EAGEd,SAHF,EAIEe,YAJF,EAKEC,SALF,EAMEE,QANF,EAOEC,WAPF,EAQEF,SAAU6C,IAEZ,yBAAKtD,UAAWC,IACd,yBAAKD,UAAWC,IACd,4BAAQxC,KAAR,SAAsByD,QAAS+D,GAAU5B,EAAeD,GACrD6B,GAAU,sBAAH,MAAuB,sBAFnC,OAKE,0BAAMjF,UAAWC,KACbsD,GAAS,IAAV,IACC,4BAAQ9F,KAAR,SAAsByD,QAASwC,GAC7B,uBAAM0B,UAAWC,OAGnB9B,GAAS,IAAV,GACC,4BAAQ9F,KAAR,SAAsByD,QAASwC,GAC7B,uBAAM0B,UAAWE,MAGrB,0BAAMtF,UAAWC,IACf,uBAAQW,MAAR,IAAe4C,EAAc/C,SAAU,SAAAU,G,OAAKsC,EAAatC,EAAjB,MAA2BoE,IAAK,QAG5E,0BAAMvF,UAAWC,IACdE,IAAQR,WAARQ,WADH,YAEGE,EACC,0BAAML,UAAWC,IACf,0BAAMD,UAAWC,KAFhB,6BAMGE,IAAQR,WAARQ,WA7Bd,eAiCG0D,GACC,4BACEpG,KADF,SAEEuC,UAAWC,GACXiB,QAAS4C,EAAME,EAAuBD,GArC5C,uBA0CI1D,GACA,uBACEkE,QADF,EAEEiB,QACE,uBAAMC,aAAc,CAAC9B,EAArB,YAA+CzC,QAASyD,IACtD,kBAAC,IAAD,MAAWe,IAAI,QADjB,qCAEE,kBAAC,IAAD,MAAWA,IAAI,OAFjB,oCAGE,kBAAC,IAAD,MAAWA,IAAI,KAHjB,kCAIE,kBAAC,IAAD,MAAWA,IAAI,QAJjB,qCAKE,kBAAC,IAAD,MAAWA,IAAI,OALjB,oCAME,kBAAC,IAAD,MAAWA,IAAI,KATrB,mCAYEC,UAZF,WAaEC,QAAS,CAAC,UAEV,4BAAQnI,KAAR,SAAsBuC,UAAWC,GAAgBiB,QAAS,W,OAAMsD,GAAN,KA1DhE,iBA+DGP,GACC,4BAAQxG,KAAR,SAAsByD,QAASiD,GAC7B,sBAjEN,QAoEIF,GACA,4BAAQxG,KAAR,SAAsByD,QAASgD,GAC7B,sBA1GV,SA+GGc,QACC,yBAAKhF,UAAWC,IACd,sBAjHN,OAoHGmE,GACC,yBAAKpE,UAAWC,IACbmE,EADH,UACqBA,EAvH3B,YA+HJvB,aAA4B,CAC1BxC,KAAMpC,IADoB,KAE1B3B,IAAK2B,IAFqB,OAG1B6E,UAAW7E,SAHe,WAM1B8E,QAAS9E,SANiB,WAO1B+E,OAAQ/E,SAPkB,WAQ1BgF,MAAOhF,SARmB,WAS1BiF,QAASjF,SATiB,WAU1BkF,QAASlF,SAViB,WAW1BmF,YAAanF,SAXa,WAY1BoF,aAAcpF,SAZY,WAc1BuB,SAAUvB,WAdgB,WAe1BuC,SAAUvC,IAfgB,OAgB1BsC,YAAatC,WAhBa,WAiB1BqF,kBAAmBrF,SAjBO,WAmB1BsF,MAAOtF,SAnBmB,WAoB1BuF,OAAQvF,WApBkB,WAqB1BwF,aAAcxF,SArBY,WAsB1ByF,aAAczF,SAtBY,WAwB1B0F,aAAc1F,WAxBY,WAyB1B2F,mBAAoB3F,SAzBM,WA2B1B4F,wBAAyB5F,SA3BC,WA4B1B6F,IAAK7F,SA5BqB,WA6B1B8F,wBAAyB9F,SA7BC,WA8B1B+F,qBAAsB/F,SA9BI,WAgC1BgG,WAAYhG,SAhCc,WAiC1BiG,kBAAmBjG,SAjCO,WAkC1BkG,eAAgBlG,SAlCU,WAoC1BmG,UAAWnG,IAAU4H,QAGvBhD,gBAA+B,CAC7BxC,MAD6B,EAE7B/D,IAF6B,GAG7BkE,SAH6B,KAI7B4D,UAAW,MElRb,IAAM0B,GAAwB,W,IACtBlJ,EAAQI,eADoB,G,OAG3B,qBAAP,I,ipBCYF,IAAM+I,GAAgB,SAAC,G,IACrBC,EAeI,EAfJA,OACA3F,EAcI,EAdJA,K,IACAvD,cAaI,MAbK,KAaL,EAZJmJ,EAYI,EAZJA,c,IAEA3J,WAUI,MAVE,GAUF,EATJmB,EASI,EATJA,K,IACAyI,gBAQI,S,IAPJ3C,aAOI,S,IAJJvD,iBAII,MAJQ,GAIR,E,IAHJmG,kBAGI,MAHS,KAGT,E,IAFJC,mBAEI,MAFU,KAEV,E,IADJC,gBACI,MADO,KACP,E,IAC8BrJ,aAD9B,M,GACGoH,EADH,KACckC,EADd,KAEEC,EAAWvJ,WAAjB,MACMwJ,EAAYxJ,WAAlB,MAEMH,EAAkB,iBAAkB,W,OAAM0J,GAAYA,EAAlB,UAA1C,IACME,EAAmB,iBAAkB,W,OAAMD,GAAaA,EAAnB,UAA3C,IACMzJ,EAAc,iBAClB,SAAA2J,GACEJ,KACAL,OAEF,CALF,IAQMU,EdhDO,SAACrK,EAAKO,G,QACWG,cADS,G,GAChC+F,EADgC,KACvB6D,EADuB,K,IAEL5J,cAFK,G,GAEhC8F,EAFgC,KAErB+D,EAFqB,K,IAGX7J,cAHW,G,GAGhCgG,EAHgC,KAGxB8D,EAHwB,K,IAIb9J,cAJa,G,GAIhCiG,EAJgC,KAIzB8D,EAJyB,K,IAKT/J,cALS,G,GAKhCkG,EALgC,KAKvB8D,EALuB,K,IAMThK,cANS,G,GAMhCmG,EANgC,KAMvB8D,EANuB,KAQjC7J,EAAM,WAAa,CAAEP,gBAAF,EAAmBkG,QAAnB,EAA4BD,UAA5B,EAAuCG,UAEhEjG,eAAgB,WACd4J,OACAE,MACAC,MACAC,MACAC,QACC,CANHjK,IAQAA,eAAgB,WACdI,oBACAA,sBACAA,oBACC,CAAC2F,EAASD,EAJb9F,I,IAMMoG,EAAc,iBAAkB,W,IAC9BtF,EAAKV,UAAX,kBACA,IACMA,UAAJ,QACEU,iBAEFA,eACQ,W,OAAM+I,GAAN,MADR/I,OAES,SAAAF,IAELzB,EADcC,QAAd,OACM,gBAAD,OAALD,IACA0K,UAGNC,QAdF,IAiBMzD,EAAe,iBAAkB,W,IAC/BvF,EAAKV,UAAX,kBACA,GACEU,UAEFgJ,QALF,IAQMI,EAAY,iBAAkB,WAC9B9J,UAAJ,UACEwJ,MACAxD,KAEF6D,QACC,CANH,IAQME,EAAU,iBAAkB,WAChCL,QADF,IAIMM,EAAS,iBAAkB,WAC/BN,MACAC,QAFF,IAKMM,EAAY,iBAAkB,WAClCP,MACAC,QAFF,IAKMO,EAAU,iBAAkB,WAChCP,QADF,IAIMQ,EAAW,iBAAkB,WACjCP,QADF,IAIMQ,EAAY,iBAAkB,WAClCR,QADF,IAIMS,EAAmB,iBAAkB,WACzCR,QADF,IAIMS,EAAY,iBAAkB,WAClCT,QADF,I,OAIAjK,eAAgB,W,IACRc,EAAKV,UAAX,kB,OACA,GAGAU,gCACAA,8BACAA,6BACAA,gCACAA,8BACAA,+BACAA,gCACAA,uCACAA,gCACO,WACLA,mCACAA,iCACAA,gCACAA,mCACAA,iCACAA,kCACAA,mCACAA,0CACAA,qCApBO,eAsBR,CAACoJ,EAAWC,EAASC,EAAQC,EAAWC,EAASC,EAAUC,EAAWC,EAzBzEzK,IA2BO,CAAE+F,QAAF,EAAWD,UAAX,EAAsBE,OAAtB,EAA8BC,MAA9B,EAAqCC,QAArC,EAA8CC,QAA9C,EAAuDE,aAAvD,EAAqED,ectEzDuE,CAAcrL,EAAjC,GACMsL,ECjDO,SAACtL,EAAKO,G,QACaG,aADO,G,GAChCwC,EADgC,KACtBqI,EADsB,K,IAED7K,aAFC,G,GAEhCuD,EAFgC,KAEnBuH,EAFmB,K,IAGP9K,aAHO,M,GAGhCwD,EAHgC,KAGtBuH,EAHsB,KAIjC3K,EAAM,WAAa,CAAEd,IAAF,EAAOO,oBAC1BoE,EAAYjE,WAAlB,MAEAA,eAAgB,W,OACdI,gBACAyK,KACAC,KACAC,QACA9G,eACO,WACLA,kBAED,CATHjE,I,IAWMgL,EAAmB,iBAAkB,SAAA1I,G,IACnC6B,EAAI7B,SAAV,SACAuI,EAAYI,iBAAmBA,gBAAnBA,SAAZJ,KAFF,IAKMrG,EAAS,iBAAkB,SAAA0G,GAC1BjH,GAAcA,EAAnB,UAGI,IAAMiH,EAAYjH,UAAtB,UACExE,4BAIEwE,gBAAqBQ,IAAcR,UAAvC,aACE6G,EAAe7G,UAAf6G,aAGE7G,gBAAqBQ,IAAcR,UAAvC,UACE8G,EAAY9G,UAAZ8G,UAEF9G,mBAhBF,IAmBMkH,EAAe,iBACnB,SAAA7I,GACM2B,IAAcgH,aAAa3I,SAA/B,eACM2B,EAAJ,QACEA,sBAAgC3B,SAAhC2B,aAEAA,UAAoB,CAAEV,YAAajB,SAAf,YAAqC4I,UAAWE,mBACpE3L,+BAIN,CAXF,IAcM4L,EAAa,iBACjB,SAAA/I,GACM2B,EAAJ,QACEA,mBAA6B3B,SAA7B2B,UAEAA,UAAoB,CAAET,SAAUlB,SAAZ,SAA+B4I,UAAWE,mBAC9D3L,8BAGJ,CATF,IAYM6G,EAAoB,iBAAkB,SAAAgF,G,IACpCnH,EAAIyD,WAAV,G,IACIqD,aAAJ,G,KAGMnK,EAAKV,UAAX,kBACA,IACEU,iBAEFmD,eACA6G,QAVF,I,OAaA9K,eAAgB,W,IACRc,EAAKV,UAAX,kB,OACA,GAGAU,uCACAA,mCACAA,iCACO,WACLA,mCACAA,iCACAA,sCARO,eAUR,CAACkK,EAAkBG,EAbtBnL,IAeO,CAAEwC,SAAF,EAAYe,YAAZ,EAAyBC,SAAzB,EAAmC8C,qBD/CxBiF,CAAQjM,EAA1B,GACMkM,EElDO,SAAC3L,G,IAAiB4L,EAAc,wD,EACnBzL,aADmB,G,SACtCuG,EADsC,KAC/BmF,EAD+B,K,EAEjB1L,aAFiB,G,SAEtCwG,EAFsC,KAE9BmF,EAF8B,KAIvCvL,EAAM,WAAa,CAAEP,gBAAF,EAAmB0G,MAAnB,EAA0BC,WAEnDxG,eAAgB,WACdI,kBACAA,qBACC,CAACmG,EAHJvG,I,IAKM4L,EAAiB,iBAAkB,SAAAtJ,G,IACjC6B,EAAI7B,SAAV,OACAqJ,KACAD,EAAS,IAAMvH,GAAW7B,SAA1BoJ,SAHF,IAMMhF,EAAe,iBAAkB,W,IAC/B5F,EAAKV,UAAX,kBACA,IACEU,SAAYV,UAAZU,MACI,IAAMV,UAAN,QAA4BA,UAAhC,QACEU,eALN,IAWM2F,EAAe,iBAAkB,SAAAtC,G,IAC/BrD,EAAKV,UAAX,kBACA,IACEU,cAHJ,I,OAOAd,eAAgB,W,IACRc,EAAKV,UAAX,kB,OACA,GAGAU,qCACO,WACLA,0CAJO,eAMR,CATHd,IAWO,CAAEuG,MAAF,EAASC,OAAT,EAAiBE,aAAjB,EAA+BD,gBFIlBoF,CAAUhM,EAA9B,GACMiM,EGnDO,SAACzI,EAAMxD,G,QACoBG,aADA,G,GACjC2G,EADiC,KACnBoF,EADmB,KAGlCC,EAAe,iBAAkB,SAAA1J,GACrCyJ,EAAgBzJ,SAAhByJ,gBADF,IAIMnF,EAAqB,iBACzB,SAAAqF,G,IACQnL,EAAKjB,IACX,IACEiB,iBACAiL,QAGJ,CARF,I,OAWA/L,eAAgB,WACd,IACE+L,KACAnF,QAED,CAACvD,EALJrD,IAOAA,eAAgB,W,IACRc,EAAKjB,I,OACX,GAGAiB,mCACO,WACLA,wCAJO,eAMR,CAACjB,EATJG,IAWO,CAAE2G,aAAF,EAAgBC,sBHeGsF,CAAgB7I,EAA1C,GACM8I,EIpDO,SAAC7M,EAAKO,G,IACZuM,E,EAAWpM,eAAiBkC,SADI,yB,GAAA,G,IAEjBlC,cAFiB,G,GAEhC8G,EAFgC,KAE3BuF,EAF2B,KAIjCjM,EAAM,WAAa,CAAEd,IAAF,EAAOO,oBAMhCG,eAAgB,WACdI,kBACC,CAFHJ,I,IAIM+G,EAA0B,iBAAkB,W,IAC1CjG,EAAKV,UAAX,kBACIU,GAAMA,EAANA,yBAAoCV,UAAxC,KACEU,8BAHJ,IAOMkG,EAAuB,iBAAkB,WACzC9E,SAAJ,sBACEA,kCAFJ,IAMAlC,eAAgB,WACV8G,IAAJ,GACEE,MAED,CAAC1H,EAAKwH,EAJT9G,I,IAMMsM,EAA0B,iBAAkB,WAChDD,QADF,IAIME,EAA0B,iBAAkB,WAChDF,QADF,I,OAIArM,eAAgB,W,IACRc,EAAKV,UAAX,kB,OACA,GAGAU,8CACAA,8CACO,WACLA,iDACAA,mDANO,eAQR,CAACwL,EAXJtM,IAaO,CAAE6G,wBAAF,EAAoCC,IAApC,EAAyCC,wBAAzC,EAAkEC,wBJFxDwF,CAAOlN,EAAxB,GACMmN,EblDO,SAAC5M,EAAiB4J,G,QACKzJ,cADgB,G,GAC7CiH,EAD6C,KACjCyF,EADiC,KAG9CxF,EAAoB,iBAAkB,W,IACpCpG,EAAK2I,I,GACX,E,GAII3I,EAAJ,kBACEA,2BACK,GAAIA,EAAJ,oBAELA,6BACK,GAAIA,EAAJ,wBAELA,gCACK,C,IACC6L,EAAU9M,IACZ8M,GAAWA,EAAf,sBAEEA,0BAGAxN,mHAlBFA,mEAqBD,CAACU,EAxBJ,IA0BMsH,EAAiB,iBAAkB,WACnCjF,SAAJ,eACEA,0BACSA,SAAJ,iBACLA,4BACSA,SAAJ,qBACLA,gCAGA/C,yHATJ,IAaMsE,EAAW,iBAAkB,W,IAC3B3C,EAAK2I,IACLmD,EACJ1K,4BAA8BA,SAA9BA,yBAAkEA,SADpE,oBAEAwK,IAAc,GAAQE,IAAtBF,KACC,CALH,I,OAOA1M,eAAgB,W,OACdkC,gDACAA,sDACAA,gCACO,WACLA,mDACAA,yDACAA,sCAED,CATHlC,IAWO,CAAEiH,WAAF,EAAcC,kBAAd,EAAiCC,kBaVhB0F,CAAchN,EAAtC,IKrDa,SAACP,EAAKO,G,IACbO,EAAM,WAAa,CAAEd,IAAF,EAAOO,gBAAP,EAAwB8B,QAAQ,IAEzD3B,eAAgB,WACdI,kBACC,CALoC,I,IAQjC0M,EAAkB,iBAAkB,W,IAClChM,EAAKV,UAAX,kBACA,IAGA8B,wCACI9B,UAAJ,SAGAA,oBACIA,UAAJ,KACEhB,uCAAgCgB,UAAhChB,MACA0B,MAASV,UAATU,IACAA,WAEA1B,+CACA0B,SACAA,gBAAgB,eAChBA,eAlBJ,IAsBAd,eAAgB,W,OACdkC,qCACO,W,OAAMA,qCAAN,MACN,CAHHlC,ILwBA+M,CAAYzN,EAAZyN,G,IAEMC,EAAc,CAAEnN,gBAAF,EAAmBP,IAAnB,EAAwBQ,OAAxB,EAAgCC,e,OAGlD,2BAAKiD,UAAS,UAAKC,GAAL,YAAd,GAAsD7C,IAAKoJ,GAA3D,GACG,UAAYR,GAAU,oBADzB,GAEG,UAAYA,GAAU,oBAFzB,GAGG,WAAaA,GAAU,oBAH1B,GAIE,6BAAOhG,UAAWC,GAAc7C,IAAhC,EAA+C8I,SAAU,aAAzD,EAAkFzI,KAAMA,GAJ1F,IAKE,kBAACqB,EAAD,UACE8B,MAAK,GACH/D,gBADG,EAEHwD,KAFG,EAGH/D,IAHG,EAIH4J,YAJG,4BAWH9B,gBAGD,IAAS8B,GAAY,qBAfxB,MANJ,KA4BFH,aAA0B,CACxBC,OAAQ/H,UAAgB,CAAC,QAAS,QAA1BA,WADgB,WAExBoC,KAAMpC,SAFkB,WAGxBnB,OAAQmB,IAHgB,OAIxBgI,cAAehI,IAJS,KAMxB3B,IAAK2B,IANmB,OAOxBR,KAAMQ,WAPkB,WAQxBiI,SAAUjI,UAAgB,EAAC,GAAO,EARV,aASxBsF,MAAOtF,IATiB,KAYxB+B,UAAW/B,IAZa,OAaxBkI,WAAYlI,IAbY,OAcxBmI,YAAanI,IAdW,OAgBxBoI,SAAUpI,cAAoB,CAACA,YAAkBA,IAAnB,MAAoCA,IAAxDA,QAGZ8H,gBAA6B,CAC3BjJ,OAD2B,KAE3BmJ,cAAe,aAEf3J,IAJ2B,GAK3B4J,UAL2B,EAM3B3C,OAN2B,EAS3BvD,UAT2B,GAU3BmG,WAV2B,KAW3BC,YAX2B,KAa3BC,SAAU,MAGZ,OAAerJ,SAAf,I,sPMpHA,IAAMiN,GAAc,SAAC,G,IAAE5J,EAAsD,EAAtDA,KAAM/D,EAAgD,EAAhDA,IAAKmB,EAA2C,EAA3CA,KAAMyM,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,e,IACtD,E,OACS,yBAAKnK,UAAWC,K,IAEnBmK,EAAY,CAChB9N,IADgB,EAEhB+N,UAFgB,EAGhBC,WAHgB,GAIhBC,WAAYlK,EAAO,OAAS,Y,MAE1B,0BAAJ,IACE+J,gBAGA,yBAAKpK,UAAWC,IACd,uBACE3D,IADF,EAEEiF,MAFF,OAGEiJ,OAHF,OAIEC,MAJF,SAKEC,iBALF,EAMEC,kBANF,SAOEC,QAPF,UAQER,UAAWA,MAMnBH,aAAwB,CACtB5J,KAAMpC,IADgB,KAEtB3B,IAAK2B,WAFiB,WAGtBR,KAAMQ,WAHgB,WAItBiM,eAAgBjM,IAJM,OAKtBkM,eAAgBlM,IAAU4M,QAG5BZ,gBAA2B,CACzB5J,MADyB,EAEzB6J,eAFyB,uDAGzBC,eAAgB,wDC1ClBW,kBACAA,wBACAA,sB,wWCMMb,G,OAAclE,IAAckE,aAE5Bc,EAAQ,SAAAC,GAAO,OACnB,IAAIzO,SAAQ,SAAAC,GACVC,EAAOwO,WAAWzO,EAASwO,OAkFzBE,EAAMlO,IAAMmO,MAAK,WAAO,IAAD,EACHnO,IAAMoO,SAAS,MADZ,mBACpBC,EADoB,KACdC,EADc,OAEHtO,IAAMoO,SAAS,MAFZ,mBAEpB7M,EAFoB,KAEdgN,EAFc,OAGLvO,IAAMoO,SAAS,IAHV,mBAGpB9O,EAHoB,KAGfkP,EAHe,OAISxO,IAAMoO,SAAS,MAJxB,mBAIpBjF,EAJoB,KAIRsF,EAJQ,OAMZ,IAAKC,UAAbC,EANoB,oBAQ3B3O,IAAM4O,WAAU,WACd,IAAMC,EAAKC,IAASrP,EAAOsP,UAAUC,WACjCH,EAAGI,OAAOxO,MACZgO,EAAc,CACZS,aAAa,EACb,qBAAsB,OACtB,uBAAwB,UACxB,uBAAwB,uBAG5B,IAAMC,EAjGe,SAAAN,GACvB,GAAIA,EAAGI,OAAOxO,KAEZ,MAAO,CACL,CACEiI,IAAK,SACLM,OAAQ,SACR1J,IAAK,0GACLmB,KAAM,yBAER,CAAEiI,IAAK,aAAcM,OAAQ,SAAU3F,MAAM,EAAM/D,IAAK,GAAImB,KAAM,0BAItEhB,EAAO2P,IAAMA,IACb3P,EAAO4P,MAAQA,IAEf,IAAMhB,EAAO,IACTe,IAAIE,eACNjB,EAAKkB,KAAK,CACR7G,IAAK,QACLM,OAAQ,QACR3F,MAAM,EACN/D,IAAK,0GACLmB,KAAM,0BAGN4O,IAAMC,iBACYD,IAAMG,iBACVC,iBACdpB,EAAKkB,KAAK,CACR7G,IAAK,QACLM,OAAQ,QACR3F,MAAM,EACN/D,IAAK,GACLmB,KAAM,cACNX,OAAQ,CACNU,QAAQ,EACRkP,mBAAmB,EACnBC,yBAAyB,EACzBC,iBAAkB,MAClBC,sBAAsB,MAmC9B,MA7BI,WAAahB,EAAGiB,GAAGC,MACrB1B,EAAKkB,KACH,CACE7G,IAAK,SACLM,OAAQ,SACR3F,MAAM,EACN/D,IAAK,0GACLmB,KAAM,yBAER,CAAEiI,IAAK,aAAcM,OAAQ,SAAU3F,MAAM,EAAM/D,IAAK,GAAImB,KAAM,0BAGtE4N,EAAKkB,KACH,CAAE7G,IAAK,OAAQM,OAAQ,QAAS3F,MAAM,EAAM/D,IAAK,uCAAwCmB,KAAM,cAC/F,CACEiI,IAAK,UACLM,OAAQ,QACR3F,MAAM,EACN/D,IAAK,0GACLmB,KAAM,yBAER,CACEiI,IAAK,SACLM,OAAQ,SACR3F,MAAM,EACN/D,IAAK,sFACLmB,KAAM,cAGH4N,EAqBiB2B,CAAiBnB,GACvCP,EAAQa,GACRZ,EAAQY,EAAc,MACrB,IAEH,IAAM1L,EAAWzD,IAAMiQ,aACrB,SAAA9L,GACE,IAAM+L,EAAO7B,EAAK8B,MAAK,SAAAC,GAAE,OAAIA,EAAG1H,MAAQvE,KACxCwK,EAAK0B,eAAe,CAAE/Q,IAAK4Q,EAAK5Q,QAElC,CAACqP,EAAMN,IAGHiC,EAAWtQ,IAAMiQ,aACrB,SAAMM,GAAN,eAAAC,EAAAC,OAAA,uDACEjC,EAAO,IADT,WAAAgC,EAAA,MAEQzC,EAAM,KAFd,OAGQmC,EAAO7B,EAAK8B,MAAK,SAAAC,GAAE,OAAIA,EAAG1H,MAAQ6H,EAAO9P,QAC/C8N,EAAQ2B,GACR1B,EAAO+B,EAAOjR,KALhB,uCAOA,CAAC+O,IAGGqC,EAAe1Q,IAAMiQ,aAAY,SAAA3N,IAErCqO,EADYvR,QAAQuR,KAChB,WAAD,OAAYrO,EAAE7B,SAIhB,IAEH,OAAK4N,GAAQ,IAAMA,EAAKuC,OAKtB,yBAAK5N,UAAU,aACb,4BAAQA,UAAU,UAChB,uBACEA,UAAU,OACV6N,OAAO,SACPlC,KAAMA,EACNmC,SAAUR,EACVS,cAAe,CACbtQ,KAAM4N,EAAK,GAAG3F,IACdpJ,IAAK+O,EAAK,GAAG/O,MAGf,sBAAM0R,KAAN,CAAWhO,UAAU,OAAO+M,KAAK,QAC/B,uBAAQtM,SAAUA,GACf4K,EAAK4C,KAAI,SAAAb,GAAE,OACV,sBAAQc,OAAR,CAAexI,IAAK0H,EAAG1H,IAAK9E,MAAOwM,EAAG1H,KACnC0H,EAAG1H,UAKZ,sBAAMsI,KAAN,CAAWhO,UAAU,MAAM+M,KAAK,OAC9B,6BAEF,sBAAMiB,KAAN,CAAWhO,UAAU,UACnB,uBAAQvC,KAAK,UAAU0Q,SAAS,UAAhC,mBAMN,0BAAMnO,UAAU,QACd,yBAAKA,UAAU,WAAW1D,IAAK8R,IAAWC,IAAI,KAC7C,UAAY9P,EAAKyH,QAChB,kBAAC,IAAD,CACE3F,KAAM9B,EAAK8B,KACX2F,OAAQzH,EAAKyH,OACbvI,KAAMc,EAAKd,KACXX,OAAQyB,EAAKzB,QAAU,GACvBR,IAAKA,EACL6J,WAAU,eACLA,EADK,CAERe,UAAWwG,EACX1F,iBAAkB0F,EAClBvG,QAASuG,EACTtG,OAAQsG,EACRrG,UAAWqG,EACXpG,QAASoG,EACTnG,SAAUmG,EACVlG,UAAWkG,EACXjG,iBAAkBiG,EAClBY,UAAWZ,EACXa,YAAab,EACbc,QAASd,EACTe,aAAcf,EACdgB,iBAAkBhB,EAClBiB,YAAajB,EACb1E,aAAc0E,EACdkB,UAAWlB,EACXmB,UAAWnB,EACX9E,eAAgB8E,EAChBhG,UAAWgG,EACXoB,QAASpB,MAId,UAAYnP,EAAKyH,QAChB,kBAACiE,EAAD,iBAAiB1L,EAAjB,CAAuBjC,IAAKA,EAAK4N,eAAgBA,IAAgBC,eAAgBA,QAGrF,2BAAOnK,UAAU,SACf,yBAAKA,UAAU,kBACb,uBAAMA,UAAU,YAAY+O,iBAAiB,QAC3C,sBAAMC,QAAN,CAAcC,IAAI,eAAKvJ,IAAI,QACzB,kBAAC,aAAD,KACE,yBAAK1F,UAAU,eACb,uBAAckP,MAAM,eAAKC,OAAQ,EAAGC,KAAK,SACvC,sBAAcpB,KAAd,CAAmBqB,MAAM,UAAU9Q,EAAKyH,QACxC,sBAAcgI,KAAd,CAAmBqB,MAAM,QAAQ9Q,EAAK8B,KAAO,SAAM,UACnD,sBAAc2N,KAAd,CAAmBqB,MAAM,OACvB,0BAAMrP,UAAU,YAAY1D,IAE9B,sBAAc0R,KAAd,CAAmBqB,MAAM,QAAQ9Q,EAAKd,UAK9C,sBAAMuR,QAAN,CAAcC,IAAI,2BAAOvJ,IAAI,aAC3B,kBAAC,aAAD,KACE,yBAAK1F,UAAU,eAAf,mEAIN,yBAAKA,UAAU,eACb,uBAAGsP,KAAK,uDACN,kBAAC,IAAD,MADF,kBAON,4BAAQtP,UAAU,UAAlB,6BAzGK,QA8GIkL,Q,sCCpQfqE,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,kBCA3CD,EAAOC,QAAU,spE,gNCYGC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MAAM,2DCRnC,IAAIC,IAEJC,IAASC,OAAO,kBAAC9E,EAAA,EAAD,MAAShM,SAAS+Q,eAAe,SD+G3C,kBAAmBlE,WACrBA,UAAUmE,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.d9847602.chunk.js","sourcesContent":["import React from 'react';\n\nexport default (src, getVideoElement) => {\n  const [loading, setLoading] = React.useState(false);\n  const [prevented, setPrevented] = React.useState(false);\n  const [paused, setPaused] = React.useState(false);\n  const [ended, setEnded] = React.useState(false);\n  const [seeking, setSeeking] = React.useState(false);\n  const [waiting, setWaiting] = React.useState(false);\n\n  const ref = React.useRef({ getVideoElement, loading, prevented, ended });\n\n  React.useEffect(() => {\n    setLoading(!!src);\n    setPaused(false);\n    setEnded(false);\n    setSeeking(false);\n    setWaiting(false);\n  }, [src]);\n\n  React.useEffect(() => {\n    ref.current.loading = loading;\n    ref.current.prevented = prevented;\n    ref.current.ended = ended;\n  }, [loading, prevented, ended]);\n\n  const onPlayClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      if (ref.current.ended) {\n        el.currentTime = 0;\n      }\n      el.play()\n        .then(() => setPrevented(false))\n        .catch(errMsg => {\n          const debug = console.error;\n          debug(`onPlayClick: ${errMsg}`);\n          setPrevented(true);\n        });\n    }\n    setPaused(false);\n  }, []);\n\n  const onPauseClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.pause();\n    }\n    setPaused(true);\n  }, []);\n\n  const onCanPlay = React.useCallback(() => {\n    if (ref.current.loading) {\n      setLoading(false);\n      onPlayClick();\n    }\n    setWaiting(false);\n  }, [onPlayClick]);\n\n  const onPause = React.useCallback(() => {\n    setPaused(true);\n  }, []);\n\n  const onPlay = React.useCallback(() => {\n    setPaused(false);\n    setEnded(false);\n  }, []);\n\n  const onPlaying = React.useCallback(() => {\n    setPaused(false);\n    setEnded(false);\n  }, []);\n\n  const onEnded = React.useCallback(() => {\n    setEnded(true);\n  }, []);\n\n  const onSeeked = React.useCallback(() => {\n    setSeeking(false);\n  }, []);\n\n  const onSeeking = React.useCallback(() => {\n    setSeeking(true);\n  }, []);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    setWaiting(false);\n  }, []);\n\n  const onWaiting = React.useCallback(() => {\n    setWaiting(true);\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('canplay', onCanPlay);\n    el.addEventListener('pause', onPause);\n    el.addEventListener('play', onPlay);\n    el.addEventListener('playing', onPlaying);\n    el.addEventListener('ended', onEnded);\n    el.addEventListener('seeked', onSeeked);\n    el.addEventListener('seeking', onSeeking);\n    el.addEventListener('canplaythrough', onCanPlayThrough);\n    el.addEventListener('waiting', onWaiting);\n    return () => {\n      el.removeEventListener('canplay', onCanPlay);\n      el.removeEventListener('pause', onPause);\n      el.removeEventListener('play', onPlay);\n      el.removeEventListener('playing', onPlaying);\n      el.removeEventListener('ended', onEnded);\n      el.removeEventListener('seeked', onSeeked);\n      el.removeEventListener('seeking', onSeeking);\n      el.removeEventListener('canplaythrough', onCanPlayThrough);\n      el.removeEventListener('waiting', onWaiting);\n    };\n  }, [onCanPlay, onPause, onPlay, onPlaying, onEnded, onSeeked, onSeeking, onCanPlayThrough, onWaiting]);\n\n  return { loading, prevented, paused, ended, seeking, waiting, onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nexport default (getVideoElement, getPlayerElement) => {\n  const [fullscreen, setFullscreen] = React.useState(false);\n\n  const requestFullscreen = React.useCallback(() => {\n    const el = getPlayerElement();\n    if (!el) {\n      debug('useVideoFullscreen: 全屏异常，unmounted');\n      return;\n    }\n    if (el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el.msRequestFullscreen) {\n      // 兼容 IE11\n      el.msRequestFullscreen();\n    } else if (el.webkitRequestFullscreen) {\n      // 兼容微信 PC 版内置浏览器\n      el.webkitRequestFullscreen();\n    } else {\n      const videoEl = getVideoElement();\n      if (videoEl && videoEl.webkitEnterFullScreen) {\n        // 兼容 iOS Safari\n        videoEl.webkitEnterFullScreen();\n      } else {\n        // 异常分支，不应该进入\n        debug('useVideoFullscreen: 全屏异常，浏览器不支持 requestFullscreen');\n      }\n    }\n  }, [getVideoElement, getPlayerElement]);\n\n  const exitFullscreen = React.useCallback(() => {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else {\n      // 异常分支，不应该进入\n      debug('useVideoFullscreen: 退出全屏异常，浏览器不支持 exitFullscreen');\n    }\n  }, []);\n\n  const onChange = React.useCallback(() => {\n    const el = getPlayerElement();\n    const fullscreenElement =\n      document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement;\n    setFullscreen(!!el && fullscreenElement === el);\n  }, [getPlayerElement]);\n\n  React.useEffect(() => {\n    document.addEventListener('fullscreenchange', onChange);\n    document.addEventListener('webkitfullscreenchange', onChange);\n    document.onmsfullscreenchange = onChange;\n    return () => {\n      document.removeEventListener('fullscreenchange', onChange);\n      document.removeEventListener('webkitfullscreenchange', onChange);\n      document.onmsfullscreenchange = null;\n    };\n  }, [onChange]);\n\n  return { fullscreen, requestFullscreen, exitFullscreen };\n};\n","import React from 'react';\n\nconst getFlvjs = src =>\n  new Promise(resolve => {\n    if (global.flvjs) {\n      resolve(global.flvjs);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.flvjs);\n    script.onerror = () => resolve(global.flvjs);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = player => {\n  if (!player) {\n    return;\n  }\n  try {\n    player.pause();\n  } catch (errMsg) {}\n  try {\n    player.unload();\n  } catch (errMsg) {}\n  try {\n    player.detachMediaElement();\n  } catch (errMsg) {}\n  try {\n    player.destroy();\n  } catch (errMsg) {}\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef(src);\n  const configRef = React.useRef(config);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getFlvjs('https://unpkg.com/flv.js/dist/flv.min.js');\n      if (!global.flvjs || ref.current !== src) {\n        debug('useFlvjs: 加载 flv.js 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(global.flvjs.createPlayer({ isLive: true, type: 'flv', url: src }, configRef.current));\n    };\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    if (!player) {\n      return cleanup;\n    }\n    const el = getVideo.current();\n    if (!el) {\n      return cleanup;\n    }\n    player.attachMediaElement(el);\n    player.load();\n    // player.play();\n    player.on(global.flvjs.Events.ERROR, (type, detail) => {\n      if (onMsgChangeRef && onMsgChangeRef.current) {\n        onMsgChangeRef.current({ type, detail });\n      }\n    });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useFlvjs from '@reactjs-player/use-flvjs';\n\nconst Flvjs = props => {\n  useFlvjs(props);\n  return null;\n};\n\nFlvjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nFlvjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(Flvjs);\n","import React from 'react';\n\nconst getHls = src =>\n  new Promise(resolve => {\n    if (global.Hls) {\n      resolve(global.Hls);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.Hls);\n    script.onerror = () => resolve(global.Hls);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = player => {\n  if (player) {\n    try {\n      player.destroy();\n    } catch (errMsg) {}\n  }\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef('');\n  const configRef = React.useRef(null);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getHls('https://unpkg.com/hls.js/dist/hls.min.js');\n      if (!global.Hls || ref.current !== src) {\n        debug('useHlsjs: 加载 hls.js 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(new global.Hls({ enableWorker: false, ...configRef.current }));\n    };\n\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    if (!player || !ref.current) {\n      return cleanup;\n    }\n    const currentSrc = ref.current;\n    const el = getVideo.current();\n    if (!el) {\n      return cleanup;\n    }\n    player.attachMedia(el);\n    player.once(global.Hls.Events.MEDIA_ATTACHED, () => {\n      if (currentSrc === ref.current) {\n        player.loadSource(ref.current);\n      }\n    });\n    // player.once(global.Hls.Events.MANIFEST_PARSED, () => {\n    //   if (currentSrc === ref.current) {\n    //     el.play();\n    //   }\n    // });\n    player.on(global.Hls.Events.ERROR, (e, info) => {\n      if (onMsgChangeRef && onMsgChangeRef.current && info && info.fatal) {\n        onMsgChangeRef.current({ type: info.type, detail: info.details });\n      }\n    });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useHlsjs from '@reactjs-player/use-hlsjs';\n\nconst Hlsjs = props => {\n  useHlsjs(props);\n  return null;\n};\n\nHlsjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nHlsjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(Hlsjs);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useNative from '@reactjs-player/use-native';\n\nconst Native = props => {\n  useNative(props);\n  return null;\n};\n\nNative.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nNative.defaultProps = {\n  src: '',\n};\n\nexport default React.memo(Native);\n","import React from 'react';\n\nexport default ({ getVideoElement, src, onMsgChange }) => {\n  const ref = React.useRef({ getVideoElement, src: '', onMsgChange, loaded: false });\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    ref.current.getVideoElement = getVideoElement;\n  }, [src, getVideoElement]);\n\n  React.useEffect(() => {\n    ref.current.onMsgChange(null);\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    el.pause();\n    el.src = src;\n    // el.play().catch(() => {});\n    el.load();\n  }, [src]);\n\n  // 页面切换时强制停止播放\n  const onUnload = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    el.pause();\n    el.src = '';\n    try {\n      el.load();\n    } catch (errMsg) {}\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('beforeunload', onUnload);\n    global.addEventListener('pagehide', onUnload);\n    global.addEventListener('unload', onUnload);\n    return () => {\n      onUnload({ type: 'useEffect' });\n    };\n  }, [onUnload]);\n\n  return null;\n};\n","import React from 'react';\n\nconst ReactPlayerContext = React.createContext([{}, () => {}]);\n\nexport default ReactPlayerContext;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\nimport styles from './index.module.less';\n\nconst getBufferedEnd = (currentTime, buffered) => {\n  if (!buffered) {\n    return 0;\n  }\n  for (let i = buffered.length - 1; 0 <= i; i -= 1) {\n    const end = buffered.end(i);\n    if (currentTime <= end && buffered.start(i) <= currentTime) {\n      return end;\n    }\n  }\n  return 0;\n};\n\nconst getEventXCoordinate = e => {\n  if (e.changedTouches && 1 <= e.changedTouches.length) {\n    return e.changedTouches[0].pageX;\n  }\n  return e.clientX || 0;\n};\n\nconst getValue = (e, rect, duration) => {\n  const w = getEventXCoordinate(e) - rect.left;\n  if (0 >= w) {\n    return 0;\n  }\n  if (w >= rect.width) {\n    return duration;\n  }\n  return Math.round((duration * w) / rect.width);\n};\n\nconst getBufferedScaleX = ({ buffered, currentTime, sliding, duration, live }) => {\n  if (live || 0 >= duration || sliding) {\n    return 0;\n  }\n  const e = getBufferedEnd(currentTime, buffered);\n  return (e / duration).toFixed(3);\n};\n\nconst getTrackTranslateX = ({ duration, currentTime, live }) => {\n  if (live) {\n    return 0;\n  }\n  if (0 === duration) {\n    return -100;\n  }\n  return ((100 * currentTime) / duration - 100).toFixed(1);\n};\n\nconst getMouseTranslateX = ({ duration, tooltip }) => {\n  if (0 >= duration) {\n    return 0;\n  }\n  return ((100 * tooltip) / duration).toFixed(1);\n};\n\nconst MouseTooltip = React.memo(({ duration, tooltip }) => {\n  const translateX = getMouseTranslateX({ duration, tooltip });\n  return (\n    <div className={styles.tooltip} style={{ transform: `translateX(${translateX}%)` }}>\n      <div className={styles.tip}>{numeral(tooltip).format('00:00:00')}</div>\n    </div>\n  );\n});\n\nMouseTooltip.propTypes = {\n  duration: PropTypes.number.isRequired,\n  tooltip: PropTypes.number.isRequired,\n};\n\nconst Slider = React.memo(({ live, hiding, currentTime, duration, buffered, onChange, sliding, setSliding }) => {\n  const [value, setValue] = React.useState(currentTime);\n  const [tooltip, setTooltip] = React.useState(0);\n\n  const sliderRef = React.useRef(null);\n  const reactRef = React.useRef(null);\n  const updateRef = React.useRef(null);\n\n  const onClick = React.useCallback(\n    e => {\n      e.preventDefault();\n      setSliding(false);\n      if (live) {\n        return;\n      }\n      const rect = e.currentTarget.getBoundingClientRect();\n      const v = getValue(e, rect, duration);\n      onChange(v);\n    },\n    [onChange, live, duration, setSliding],\n  );\n\n  const onMouseDown = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (!sliderRef || !sliderRef.current || !reactRef || live) {\n        return;\n      }\n      const react = sliderRef.current.getBoundingClientRect();\n      reactRef.current = { left: react.left, width: react.width };\n      setSliding(true);\n    },\n    [live, setSliding],\n  );\n\n  const update = React.useCallback(() => {\n    if (!updateRef || !updateRef.current) {\n      return;\n    }\n    // eslint-disable-next-line no-undefined\n    if (undefined !== updateRef.current.value) {\n      setValue(updateRef.current.value);\n    }\n    // eslint-disable-next-line no-undefined\n    if (undefined !== updateRef.current.tooltip) {\n      setTooltip(updateRef.current.tooltip);\n    }\n    updateRef.current = null;\n  }, []);\n\n  const onMouseUp = React.useCallback(\n    e => {\n      e.preventDefault();\n      setSliding(false);\n      if (reactRef && reactRef.current && updateRef) {\n        const v = getValue(e, reactRef.current, duration);\n        updateRef.current = { value: v };\n        update();\n        onChange(v);\n      }\n    },\n    [onChange, duration, update, setSliding],\n  );\n\n  const onMouseMove = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (!reactRef || !reactRef.current || !updateRef) {\n        return;\n      }\n      const v = getValue(e, reactRef.current, duration);\n      if (updateRef.current) {\n        updateRef.current.value = v;\n      } else {\n        updateRef.current = { value: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  React.useEffect(() => {\n    if (sliding) {\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n\n      document.addEventListener('touchmove', onMouseMove);\n      document.addEventListener('touchcancel', onMouseUp);\n      document.addEventListener('touchend', onMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', onMouseUp);\n\n        document.removeEventListener('touchmove', onMouseMove);\n        document.removeEventListener('touchcancel', onMouseUp);\n        document.removeEventListener('touchend', onMouseUp);\n      };\n    }\n    return () => {};\n  }, [sliding, onMouseMove, onMouseUp]);\n\n  const onSliderMouseOver = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (live) {\n        return;\n      }\n      const react = sliderRef.current.getBoundingClientRect();\n      reactRef.current = { left: react.left, width: react.width };\n    },\n    [live],\n  );\n\n  const onSliderMouseMove = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (!reactRef || !reactRef.current || !updateRef) {\n        return;\n      }\n      const v = getValue(e, reactRef.current, duration);\n      if (updateRef.current) {\n        updateRef.current.tooltip = v;\n      } else {\n        updateRef.current = { tooltip: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  const onResize = React.useCallback(e => {\n    e.preventDefault();\n    if (!sliderRef || !sliderRef.current) {\n      return;\n    }\n    const react = sliderRef.current.getBoundingClientRect();\n    reactRef.current = { left: react.left, width: react.width };\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('resize', onResize);\n    return () => {\n      global.removeEventListener('resize', onResize);\n    };\n  }, [onResize]);\n\n  const bufferedScaleX = getBufferedScaleX({ buffered, currentTime, sliding, duration, live });\n  const trackTranslateX = getTrackTranslateX({ duration, currentTime: sliding ? value : currentTime, live });\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={sliding ? styles.slidingSlider : styles.slider}\n      ref={sliderRef}\n      onClick={onClick}\n      onKeyDown={() => {}}\n      onMouseOver={onSliderMouseOver}\n      onMouseMove={onSliderMouseMove}\n      onFocus={() => {}}\n    >\n      {!live && (\n        <button type=\"button\" className={styles.sliderButton} onTouchStart={onMouseDown}>\n          <span className={styles.slidingTip} style={{ opacity: sliding ? 1 : 0 }}>\n            快进到：{numeral(value).format('00:00:00')}\n          </span>\n        </button>\n      )}\n      <div className={styles.sliderRail}>\n        <div className={styles.sliderBuffered} style={{ transform: `scaleX(${bufferedScaleX})` }} />\n        <div className={styles.sliderTrack} style={{ transform: `translateX(${trackTranslateX}%)` }} />\n      </div>\n      <div className={styles.sliderHandleRail} style={{ transform: `translateX(${trackTranslateX}%)` }}>\n        <button\n          type=\"button\"\n          className={`${styles.sliderHandle} ${hiding ? styles.hidingsliderHandle : ''}`}\n          onMouseDown={onMouseDown}\n          onTouchStart={onMouseDown}\n        />\n      </div>\n      {!live && <MouseTooltip duration={duration} tooltip={sliding ? value : tooltip} />}\n    </div>\n  );\n});\n\nSlider.propTypes = {\n  live: PropTypes.bool.isRequired,\n  hiding: PropTypes.bool.isRequired,\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  onChange: PropTypes.func,\n  sliding: PropTypes.bool.isRequired,\n  setSliding: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n  buffered: null,\n  onChange: () => {},\n};\n\nexport default Slider;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\nimport { Slider, Dropdown, Menu } from 'antd';\nimport Icon, {\n  LoadingOutlined,\n  PlayCircleOutlined,\n  CaretRightOutlined,\n  PauseOutlined,\n  FullscreenExitOutlined,\n  FullscreenOutlined,\n} from '@ant-design/icons';\n\nimport TimeSlider from '../TimeSlider';\nimport 'antd/lib/tooltip/style/index.css';\nimport 'antd/lib/slider/style/index.css';\nimport 'antd/lib/dropdown/style/index.css';\nimport styles from './index.module.less';\n\nimport { ReactComponent as MutedSvg } from './muted.svg';\nimport { ReactComponent as UnmutedSvg } from './unmuted.svg';\nimport bgImg from './bg.png';\n\nconst ReactPlayerSkin = React.memo(\n  ({\n    live,\n    src,\n    prevented,\n    loading,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    onPlayClick,\n    onPauseClick,\n    duration,\n    buffered,\n    currentTime,\n    changeCurrentTime,\n    muted,\n    volume,\n    changeVolume,\n    onMutedClick,\n    playbackRate,\n    changePlaybackRate,\n    pictureInPictureEnabled,\n    pip,\n    requestPictureInPicture,\n    exitPictureInPicture,\n    fullscreen,\n    requestFullscreen,\n    exitFullscreen,\n    kernelMsg,\n  }) => {\n    const [hovering, setHovering] = React.useState(false);\n    const [sliding, setSliding] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const [hiding, setHiding] = React.useState(false);\n\n    const onBodyClick = React.useCallback(() => setVisible(false), []);\n\n    const onMenuClick = React.useCallback(\n      e => {\n        changePlaybackRate(parseFloat(e.key, 10));\n        setVisible(false);\n      },\n      [changePlaybackRate],\n    );\n\n    const onMouseEnter = React.useCallback(() => {\n      if (global.matchMedia) {\n        const matched = global.matchMedia('(hover: none), (pointer: coarse)');\n        if (matched && matched.matches) {\n          return;\n        }\n      }\n      setHovering(true);\n    }, []);\n\n    React.useEffect(() => {\n      document.body.addEventListener('click', onBodyClick);\n      return () => document.body.removeEventListener('click', onBodyClick);\n    }, [onBodyClick]);\n\n    React.useEffect(() => {\n      setVisible(false);\n      setHiding(false);\n    }, [src]);\n\n    React.useEffect(() => {\n      if (hovering || sliding || visible) {\n        setHiding(false);\n      }\n    }, [hovering, sliding, visible]);\n\n    React.useEffect(() => {\n      if (hiding || hovering || sliding || visible) {\n        return () => {};\n      }\n      const id = global.setTimeout(() => setHiding(true), 3000);\n      return () => global.clearTimeout(id);\n    }, [hiding, hovering, sliding, visible]);\n\n    const l = src && (loading || 0 === duration);\n\n    const playing = !prevented && !paused && !ended;\n\n    return (\n      <div className={styles.reactPlayerSkin}>\n        <div\n          className={hiding ? styles.hiddenControlsBg : styles.controlsBg}\n          style={{ backgroundImage: `url(${bgImg})` }}\n        />\n        <button\n          type=\"button\"\n          className={src ? styles.hiddenVideoMask : styles.videoMask}\n          onMouseMove={() => setHiding(false)}\n          onClick={() => setHiding(false)}\n        />\n        {(waiting || seeking) && src && !loading && 0 !== duration && (\n          <div className={styles.waiting}>\n            <LoadingOutlined />\n          </div>\n        )}\n        {src && !l && (prevented || paused || ended) && (\n          <button type=\"button\" className={styles.ended} onClick={onPlayClick}>\n            <PlayCircleOutlined />\n          </button>\n        )}\n        <div\n          className={hiding ? styles.hiddenControls : styles.controls}\n          onMouseEnter={() => onMouseEnter}\n          onMouseLeave={() => setHovering(false)}\n        >\n          <TimeSlider\n            live={live}\n            hiding={hiding}\n            duration={duration}\n            currentTime={currentTime}\n            buffered={buffered}\n            sliding={sliding}\n            setSliding={setSliding}\n            onChange={changeCurrentTime}\n          />\n          <div className={styles.bar}>\n            <div className={styles.flexItem}>\n              <button type=\"button\" onClick={playing ? onPauseClick : onPlayClick}>\n                {playing ? <PauseOutlined /> : <CaretRightOutlined />}\n                {/* <CaretRightOutlined /> */}\n              </button>\n              <span className={styles.volume}>\n                {(muted || 0 === volume) && (\n                  <button type=\"button\" onClick={onMutedClick}>\n                    <Icon component={MutedSvg} />\n                  </button>\n                )}\n                {!muted && 0 !== volume && (\n                  <button type=\"button\" onClick={onMutedClick}>\n                    <Icon component={UnmutedSvg} />\n                  </button>\n                )}\n                <span className={styles.volumeSlider}>\n                  <Slider value={volume * 100} onChange={v => changeVolume(v / 100)} max={100} />\n                </span>\n              </span>\n              <span className={styles.controlText}>\n                {numeral(Math.round(currentTime)).format('00:00:00')}\n                {live ? (\n                  <span className={styles.controlText}>\n                    <span className={styles.liveDot} />\n                    直播\n                  </span>\n                ) : (\n                  ` / ${numeral(Math.round(duration)).format('00:00:00')}`\n                )}\n              </span>\n            </div>\n            {pictureInPictureEnabled && (\n              <button\n                type=\"button\"\n                className={styles.textBtn}\n                onClick={pip ? exitPictureInPicture : requestPictureInPicture}\n              >\n                画中画\n              </button>\n            )}\n            {!live && (\n              <Dropdown\n                visible={visible}\n                overlay={\n                  <Menu selectedKeys={[playbackRate.toString()]} onClick={onMenuClick}>\n                    <Menu.Item key=\"0.25\">&nbsp;&nbsp;0.25 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"0.5\">&nbsp;&nbsp;0.5 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"1\">&nbsp;&nbsp;1 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"1.25\">&nbsp;&nbsp;1.25 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"1.5\">&nbsp;&nbsp;1.5 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"2\">&nbsp;&nbsp;2 倍速&nbsp;&nbsp;</Menu.Item>\n                  </Menu>\n                }\n                placement=\"topRight\"\n                trigger={['click']}\n              >\n                <button type=\"button\" className={styles.textBtn} onClick={() => setVisible(true)}>\n                  倍速\n                </button>\n              </Dropdown>\n            )}\n            {fullscreen && (\n              <button type=\"button\" onClick={exitFullscreen}>\n                <FullscreenExitOutlined />\n              </button>\n            )}\n            {!fullscreen && (\n              <button type=\"button\" onClick={requestFullscreen}>\n                <FullscreenOutlined />\n              </button>\n            )}\n          </div>\n        </div>\n        {l && !kernelMsg && (\n          <div className={styles.loading}>\n            <LoadingOutlined />\n          </div>\n        )}\n        {kernelMsg && (\n          <div className={styles.kernelMsg}>\n            {kernelMsg.type}: {kernelMsg.detail}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\n\nReactPlayerSkin.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string,\n  prevented: PropTypes.bool.isRequired,\n  // controls: PropTypes.bool.isRequired,\n  // state\n  loading: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  seeking: PropTypes.bool.isRequired,\n  waiting: PropTypes.bool.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n  // time\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  currentTime: PropTypes.number.isRequired,\n  changeCurrentTime: PropTypes.func.isRequired,\n  // volume\n  muted: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  changeVolume: PropTypes.func.isRequired,\n  onMutedClick: PropTypes.func.isRequired,\n  // playbackRate\n  playbackRate: PropTypes.number.isRequired,\n  changePlaybackRate: PropTypes.func.isRequired,\n  // pip\n  pictureInPictureEnabled: PropTypes.bool.isRequired,\n  pip: PropTypes.bool.isRequired,\n  requestPictureInPicture: PropTypes.func.isRequired,\n  exitPictureInPicture: PropTypes.func.isRequired,\n  // fullscreen\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  exitFullscreen: PropTypes.func.isRequired,\n  // kernel\n  kernelMsg: PropTypes.object,\n};\n\nReactPlayerSkin.defaultProps = {\n  live: false,\n  src: '',\n  buffered: null,\n  kernelMsg: null,\n};\n\nexport default ReactPlayerSkin;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==\"","import React from 'react';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport ReactPlayerSkin from '../ReactPlayerSkin';\n\nconst ReactPlayerSkinWapper = () => {\n  const props = React.useContext(ReactPlayerContext);\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <ReactPlayerSkin {...props} />;\n};\n\nexport default ReactPlayerSkinWapper;\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useVideoState from '@reactjs-player/use-state';\nimport useTime from '@reactjs-player/use-time';\nimport useVolume from '@reactjs-player/use-volume';\nimport usePlaybackRate from '@reactjs-player/use-playback-rate';\nimport usePiP from '@reactjs-player/use-pip';\nimport useFullscreen from '@reactjs-player/use-fullscreen';\nimport useAutoplay from '@reactjs-player/use-autoplay';\n\nimport Flvjs from '../Flvjs';\nimport Hlsjs from '../Hlsjs';\nimport Native from '../Native';\nimport ReactPlayerSkinWapper from '../ReactPlayerSkinWapper';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport styles from './index.module.less';\n\nconst ReactjsPlayer = ({\n  kernel,\n  live,\n  config = null,\n  onKernelError,\n\n  src = '',\n  type,\n  controls = true,\n  muted = false,\n  // autoPlay = true,\n\n  className = '',\n  videoProps = null,\n  playerProps = null,\n  children = null,\n}) => {\n  const [kernelMsg, setKernelMsg] = React.useState(null);\n  const videoRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n\n  const getVideoElement = React.useCallback(() => videoRef && videoRef.current, []);\n  const getPlayerElement = React.useCallback(() => playerRef && playerRef.current, []);\n  const onMsgChange = React.useCallback(\n    msg => {\n      setKernelMsg(msg);\n      onKernelError(msg);\n    },\n    [onKernelError],\n  );\n\n  const stateProps = useVideoState(src, getVideoElement);\n  const timeProps = useTime(src, getVideoElement);\n  const volumeProps = useVolume(getVideoElement, muted);\n  const playbackRateProps = usePlaybackRate(live, getVideoElement);\n  const piPProps = usePiP(src, getVideoElement);\n  const fullscreenProps = useFullscreen(getVideoElement, getPlayerElement);\n  useAutoplay(src, getVideoElement);\n\n  const kernelProps = { getVideoElement, src, config, onMsgChange };\n\n  return (\n    <div className={`${styles.reactPlayer} ${className}`} ref={playerRef} {...playerProps}>\n      {'flvjs' === kernel && <Flvjs {...kernelProps} />}\n      {'hlsjs' === kernel && <Hlsjs {...kernelProps} />}\n      {'native' === kernel && <Native {...kernelProps} />}\n      <video className={styles.video} ref={videoRef} controls={'controls' === controls} type={type} {...videoProps} />\n      <ReactPlayerContext.Provider\n        value={{\n          getVideoElement,\n          live,\n          src,\n          controls,\n          ...stateProps,\n          ...timeProps,\n          ...volumeProps,\n          ...playbackRateProps,\n          ...piPProps,\n          ...fullscreenProps,\n          kernelMsg,\n        }}\n      >\n        {true === controls && <ReactPlayerSkinWapper />}\n        {children}\n      </ReactPlayerContext.Provider>\n    </div>\n  );\n};\n\nReactjsPlayer.propTypes = {\n  kernel: PropTypes.oneOf(['hlsjs', 'flvjs', 'native']).isRequired,\n  live: PropTypes.bool.isRequired,\n  config: PropTypes.object,\n  onKernelError: PropTypes.func,\n\n  src: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  controls: PropTypes.oneOf([false, true, 'controls']),\n  muted: PropTypes.bool,\n  // autoPlay: PropTypes.bool,\n\n  className: PropTypes.string,\n  videoProps: PropTypes.object,\n  playerProps: PropTypes.object,\n\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n\nReactjsPlayer.defaultProps = {\n  config: null,\n  onKernelError: () => {},\n\n  src: '',\n  controls: true,\n  muted: false,\n  // autoPlay: true,\n\n  className: '',\n  videoProps: null,\n  playerProps: null,\n\n  children: null,\n};\n\nexport default React.memo(ReactjsPlayer);\n","import React from 'react';\n\nexport default (src, getVideoElement) => {\n  const [duration, setDuration] = React.useState(0);\n  const [currentTime, setCurrentTime] = React.useState(0);\n  const [buffered, setBuffered] = React.useState(null);\n  const ref = React.useRef({ src, getVideoElement });\n  const updateRef = React.useRef(null);\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    setDuration(0);\n    setCurrentTime(0);\n    setBuffered(null);\n    updateRef.current = null;\n    return () => {\n      updateRef.current = null;\n    };\n  }, [src]);\n\n  const onDurationChange = React.useCallback(e => {\n    const v = e.target.duration;\n    setDuration(Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0);\n  }, []);\n\n  const update = React.useCallback(timestamp => {\n    if (!updateRef || !updateRef.current) {\n      return;\n    }\n    if (200 > timestamp - updateRef.current.timestamp) {\n      global.requestAnimationFrame(update);\n      return;\n    }\n    // eslint-disable-next-line no-undefined\n    if (updateRef.current && undefined !== updateRef.current.currentTime) {\n      setCurrentTime(updateRef.current.currentTime);\n    }\n    // eslint-disable-next-line no-undefined\n    if (updateRef.current && undefined !== updateRef.current.buffered) {\n      setBuffered(updateRef.current.buffered);\n    }\n    updateRef.current = null;\n  }, []);\n\n  const onTimeUpdate = React.useCallback(\n    e => {\n      if (updateRef && !Number.isNaN(e.target.currentTime)) {\n        if (updateRef.current) {\n          updateRef.current.currentTime = e.target.currentTime;\n        } else {\n          updateRef.current = { currentTime: e.target.currentTime, timestamp: performance.now() };\n          global.requestAnimationFrame(update);\n        }\n      }\n    },\n    [update],\n  );\n\n  const onProgress = React.useCallback(\n    e => {\n      if (updateRef.current) {\n        updateRef.current.buffered = e.target.buffered;\n      } else {\n        updateRef.current = { buffered: e.target.buffered, timestamp: performance.now() };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const changeCurrentTime = React.useCallback(t => {\n    const v = parseFloat(t);\n    if (Number.isNaN(v)) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.currentTime = v;\n    }\n    updateRef.current = null;\n    setCurrentTime(v);\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('durationchange', onDurationChange);\n    el.addEventListener('timeupdate', onTimeUpdate);\n    el.addEventListener('progress', onProgress);\n    return () => {\n      el.removeEventListener('canplay', onDurationChange);\n      el.removeEventListener('pause', onTimeUpdate);\n      el.removeEventListener('progress', onProgress);\n    };\n  }, [onDurationChange, onTimeUpdate, onProgress]);\n\n  return { duration, currentTime, buffered, changeCurrentTime };\n};\n","import React from 'react';\n\nexport default (getVideoElement, m = false) => {\n  const [muted, setMuted] = React.useState(m);\n  const [volume, setVolume] = React.useState(1);\n\n  const ref = React.useRef({ getVideoElement, muted, volume });\n\n  React.useEffect(() => {\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [muted, volume]);\n\n  const onVolumeChange = React.useCallback(e => {\n    const v = e.target.volume;\n    setVolume(v);\n    setMuted(0 === v ? true : e.target.muted);\n  }, []);\n\n  const onMutedClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.muted = !ref.current.muted;\n      if (0 === ref.current.volume && ref.current.muted) {\n        el.volume = 1;\n      }\n      // setMuted(el.muted);\n    }\n  }, []);\n\n  const changeVolume = React.useCallback(v => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.volume = v;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      el.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [onVolumeChange]);\n\n  return { muted, volume, onMutedClick, changeVolume };\n};\n","import React from 'react';\n\nexport default (live, getVideoElement) => {\n  const [playbackRate, setPlaybackRate] = React.useState(1);\n\n  const onRateChange = React.useCallback(e => {\n    setPlaybackRate(e.target.playbackRate);\n  }, []);\n\n  const changePlaybackRate = React.useCallback(\n    r => {\n      const el = getVideoElement();\n      if (el) {\n        el.playbackRate = r;\n        setPlaybackRate(r);\n      }\n    },\n    [getVideoElement],\n  );\n\n  React.useEffect(() => {\n    if (live) {\n      setPlaybackRate(1);\n      changePlaybackRate(1);\n    }\n  }, [live, changePlaybackRate]);\n\n  React.useEffect(() => {\n    const el = getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('ratechange', onRateChange);\n    return () => {\n      el.removeEventListener('ratechange', onRateChange);\n    };\n  }, [getVideoElement, onRateChange]);\n\n  return { playbackRate, changePlaybackRate };\n};\n","import React from 'react';\n\nexport default (src, getVideoElement) => {\n  const [enabled] = React.useState(!!document.pictureInPictureEnabled);\n  const [pip, setPiP] = React.useState(false);\n\n  const ref = React.useRef({ src, getVideoElement });\n\n  // React.useEffect(() => {\n  //   setEnabled(!!document.pictureInPictureEnabled);\n  // }, []);\n\n  React.useEffect(() => {\n    ref.current.src = src;\n  }, [src]);\n\n  const requestPictureInPicture = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el && el.requestPictureInPicture && ref.current.src) {\n      el.requestPictureInPicture();\n    }\n  }, []);\n\n  const exitPictureInPicture = React.useCallback(() => {\n    if (document.exitPictureInPicture) {\n      document.exitPictureInPicture();\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (pip && !src) {\n      exitPictureInPicture();\n    }\n  }, [src, pip, exitPictureInPicture]);\n\n  const onEnterPictureInPicture = React.useCallback(() => {\n    setPiP(true);\n  }, []);\n\n  const onLeavePictureInPicture = React.useCallback(() => {\n    setPiP(false);\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('enterpictureinpicture', onEnterPictureInPicture);\n    el.addEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    return () => {\n      el.removeEventListener('enterpictureinpicture', onEnterPictureInPicture);\n      el.removeEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    };\n  }, [onEnterPictureInPicture, onLeavePictureInPicture]);\n\n  return { pictureInPictureEnabled: enabled, pip, requestPictureInPicture, exitPictureInPicture };\n};\n","import React from 'react';\n\nexport default (src, getVideoElement) => {\n  const ref = React.useRef({ src, getVideoElement, loaded: false });\n\n  React.useEffect(() => {\n    ref.current.src = src;\n  }, [src]);\n\n  // 手机端自动播放\n  const onDocumentClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    document.removeEventListener('click', onDocumentClick);\n    if (ref.current.loaded) {\n      return;\n    }\n    ref.current.loaded = true;\n    if (ref.current.src) {\n      console.log(`onDocumentClick: ${ref.current.src}`);\n      el.src = ref.current.src;\n      el.load();\n    } else {\n      console.log(`onDocumentClick: play empty src`);\n      el.src = '';\n      el.play().catch(() => {});\n      el.pause();\n    }\n  }, []);\n\n  React.useEffect(() => {\n    document.addEventListener('click', onDocumentClick);\n    return () => document.removeEventListener('click', onDocumentClick);\n  }, [onDocumentClick]);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSWF from 'react-swf';\nimport './GrindPlayer.swf';\nimport './flashlsOSMF.swf';\nimport styles from './index.module.less';\n\nconst GrindPlayer = ({ live, src, type, grindPlayerSwf, flashlsOSMFSwf }) => {\n  if (!src) {\n    return <div className={styles.grindPlayer} />;\n  }\n  const flashVars = {\n    src,\n    autoPlay: true,\n    bufferTime: 0.5,\n    streamType: live ? 'live' : 'recorded',\n  };\n  if ('application/x-mpegURL' === type) {\n    flashVars.plugin_hls = flashlsOSMFSwf;\n  }\n  return (\n    <div className={styles.grindPlayer}>\n      <ReactSWF\n        src={grindPlayerSwf}\n        width=\"100%\"\n        height=\"100%\"\n        wmode=\"opaque\"\n        allowFullScreen\n        allowScriptAccess=\"always\"\n        bgcolor=\"#000000\"\n        flashVars={flashVars}\n      />\n    </div>\n  );\n};\n\nGrindPlayer.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  grindPlayerSwf: PropTypes.string,\n  flashlsOSMFSwf: PropTypes.string,\n};\n\nGrindPlayer.defaultProps = {\n  live: true,\n  grindPlayerSwf: 'http://unpkg.com/reactjs-player/dist/GrindPlayer.swf',\n  flashlsOSMFSwf: 'http://unpkg.com/reactjs-player/dist/flashlsOSMF.swf',\n};\n\nexport default GrindPlayer;\n","import ReactPlayer from './ReactPlayer';\nimport GrindPlayer from './GrindPlayer';\nimport ReactPlayerContext from './ReactPlayerContext';\nimport ReactPlayerSkin from './ReactPlayerSkin';\n\nReactPlayer.GrindPlayer = GrindPlayer;\nReactPlayer.ReactPlayerContext = ReactPlayerContext;\nReactPlayer.ReactPlayerSkin = ReactPlayerSkin;\n\nexport default ReactPlayer;\n","import React from 'react';\nimport UAParser from 'ua-parser-js';\nimport Hls from 'hls.js';\nimport flvjs from 'flv.js';\nimport { Form, Select, Input, Button, Tabs, Descriptions } from 'antd';\nimport { GithubOutlined } from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport ReactjsPlayer from 'reactjs-player';\nimport grindPlayerSwf from 'reactjs-player/dist/GrindPlayer.swf';\nimport flashlsOSMFSwf from 'reactjs-player/dist/flashlsOSMF.swf';\nimport blank16x9 from './blank16x9.png';\nimport './App.css';\n\nconst GrindPlayer = ReactjsPlayer.GrindPlayer;\n\nconst delay = timeout =>\n  new Promise(resolve => {\n    global.setTimeout(resolve, timeout);\n  });\n\nconst getSupportedList = ua => {\n  if (ua.device.type) {\n    // 非 PC 浏览器\n    return [\n      {\n        key: 'native',\n        kernel: 'native',\n        src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n        type: 'application/x-mpegURL',\n      },\n      { key: 'nativelive', kernel: 'native', live: true, src: '', type: 'application/x-mpegURL' },\n    ];\n  }\n\n  global.Hls = Hls;\n  global.flvjs = flvjs;\n\n  const list = [];\n  if (Hls.isSupported()) {\n    list.push({\n      key: 'hlsjs',\n      kernel: 'hlsjs',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    });\n  }\n  if (flvjs.isSupported()) {\n    const featureList = flvjs.getFeatureList();\n    if (featureList.networkStreamIO) {\n      list.push({\n        key: 'flvjs',\n        kernel: 'flvjs',\n        live: true,\n        src: '',\n        type: 'video/x-flv',\n        config: {\n          isLive: true,\n          enableStashBuffer: false,\n          autoCleanupSourceBuffer: true,\n          stashInitialSize: 16 * 1024,\n          fixAudioTimestampGap: false,\n        },\n      });\n    }\n  }\n  // mac OS 没有测试环境，暂且认为没有问题\n  if ('Mac OS' === ua.os.name) {\n    list.push(\n      {\n        key: 'native',\n        kernel: 'native',\n        live: false,\n        src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n        type: 'application/x-mpegURL',\n      },\n      { key: 'nativelive', kernel: 'native', live: true, src: '', type: 'application/x-mpegURL' },\n    );\n  }\n  list.push(\n    { key: 'rtmp', kernel: 'flash', live: true, src: 'rtmp://livetv.dhtv.cn:1935/live/news', type: 'video/rtmp' },\n    {\n      key: 'flashls',\n      kernel: 'flash',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    },\n    {\n      key: 'native',\n      kernel: 'native',\n      live: false,\n      src: 'http://cdn.tencent.neigou.com/Public/Home/mobileAsset/images/tencent2018/video5.mp4',\n      type: 'video/mp4',\n    },\n  );\n  return list;\n};\n\nconst App = React.memo(() => {\n  const [list, setList] = React.useState(null);\n  const [info, setInfo] = React.useState(null);\n  const [src, setSrc] = React.useState('');\n  const [videoProps, setVideoProps] = React.useState(null);\n\n  const [form] = Form.useForm();\n\n  React.useEffect(() => {\n    const ua = UAParser(global.navigator.userAgent);\n    if (ua.device.type) {\n      setVideoProps({\n        playsInline: true,\n        'webkit-playsinline': 'true',\n        'x5-video-player-type': 'h5-page',\n        'x5-video-orientation': 'landscape|portrait',\n      });\n    }\n    const supportedList = getSupportedList(ua);\n    setList(supportedList);\n    setInfo(supportedList[0]);\n  }, []);\n\n  const onChange = React.useCallback(\n    v => {\n      const item = list.find(it => it.key === v);\n      form.setFieldsValue({ src: item.src });\n    },\n    [form, list],\n  );\n\n  const onSubmit = React.useCallback(\n    async values => {\n      setSrc('');\n      await delay(50);\n      const item = list.find(it => it.key === values.type);\n      setInfo(item);\n      setSrc(values.src);\n    },\n    [list],\n  );\n\n  const onVideoEvent = React.useCallback(e => {\n    const log = console.log;\n    log(`e.type: ${e.type}`);\n    // if ('durationchange' === e.type) {\n    //   log(`durationchange: ${e.target.duration}`);\n    // }\n  }, []);\n\n  if (!list || 0 === list.length) {\n    return null;\n  }\n\n  return (\n    <div className=\"container\">\n      <header className=\"header\">\n        <Form\n          className=\"form\"\n          layout=\"inline\"\n          form={form}\n          onFinish={onSubmit}\n          initialValues={{\n            type: list[0].key,\n            src: list[0].src,\n          }}\n        >\n          <Form.Item className=\"type\" name=\"type\">\n            <Select onChange={onChange}>\n              {list.map(it => (\n                <Select.Option key={it.key} value={it.key}>\n                  {it.key}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item className=\"src\" name=\"src\">\n            <Input />\n          </Form.Item>\n          <Form.Item className=\"submit\">\n            <Button type=\"primary\" htmlType=\"submit\">\n              播放\n            </Button>\n          </Form.Item>\n        </Form>\n      </header>\n      <main className=\"main\">\n        <img className=\"blankImg\" src={blank16x9} alt=\"\" />\n        {'flash' !== info.kernel && (\n          <ReactjsPlayer\n            live={info.live}\n            kernel={info.kernel}\n            type={info.type}\n            config={info.config || {}}\n            src={src}\n            videoProps={{\n              ...videoProps,\n              onCanPlay: onVideoEvent,\n              onDurationChange: onVideoEvent,\n              onPause: onVideoEvent,\n              onPlay: onVideoEvent,\n              onPlaying: onVideoEvent,\n              onEnded: onVideoEvent,\n              onSeeked: onVideoEvent,\n              onSeeking: onVideoEvent,\n              onCanPlayThrough: onVideoEvent,\n              onEmptied: onVideoEvent,\n              onEncrypted: onVideoEvent,\n              onError: onVideoEvent,\n              onLoadedData: onVideoEvent,\n              onLoadedMetadata: onVideoEvent,\n              onLoadStart: onVideoEvent,\n              onRateChange: onVideoEvent,\n              onStalled: onVideoEvent,\n              onSuspend: onVideoEvent,\n              onVolumeChange: onVideoEvent,\n              onWaiting: onVideoEvent,\n              onAbort: onVideoEvent,\n            }}\n          />\n        )}\n        {'flash' === info.kernel && (\n          <GrindPlayer {...info} src={src} grindPlayerSwf={grindPlayerSwf} flashlsOSMFSwf={flashlsOSMFSwf} />\n        )}\n      </main>\n      <aside className=\"aside\">\n        <div className=\"asideContainer\">\n          <Tabs className=\"asideTabs\" defaultActiveKey=\"info\">\n            <Tabs.TabPane tab=\"信息\" key=\"info\">\n              <Scrollbars>\n                <div className=\"infoTabPane\">\n                  <Descriptions title=\"参数\" column={1} size=\"small\">\n                    <Descriptions.Item label=\"kernel\">{info.kernel}</Descriptions.Item>\n                    <Descriptions.Item label=\"live\">{info.live ? '是' : '否'}</Descriptions.Item>\n                    <Descriptions.Item label=\"src\">\n                      <span className=\"srcValue\">{src}</span>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"type\">{info.type}</Descriptions.Item>\n                  </Descriptions>\n                </div>\n              </Scrollbars>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"接口测试\" key=\"interface\">\n              <Scrollbars>\n                <div className=\"infoTabPane\">暂时删除接口测试功能</div>\n              </Scrollbars>\n            </Tabs.TabPane>\n          </Tabs>\n          <div className=\"asideFooter\">\n            <a href=\"https://github.com/goblin-laboratory/reactjs-player\">\n              <GithubOutlined />\n              &nbsp; Github\n            </a>\n          </div>\n        </div>\n      </aside>\n      <footer className=\"footer\">手机观看</footer>\n    </div>\n  );\n});\n\nexport default App;\n","module.exports = __webpack_public_path__ + \"static/media/GrindPlayer.4a087377.swf\";","module.exports = __webpack_public_path__ + \"static/media/flashlsOSMF.f801e174.swf\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wMi0yOFQxODoyNDozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDljYTEwNTMtNTU4Ny1lYjQ4LWEyMzEtZWY0MTUzNjRjYmY2IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2QyYjVhMTMtN2E2NC1lZDQ3LWE2NDctZWQwNDExMDgxMTFmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6M2NkZWQyZmItOWFmMi1lODQ2LWE5MGYtNTdhOGUyYzk3OGY2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozY2RlZDJmYi05YWYyLWU4NDYtYTkwZi01N2E4ZTJjOTc4ZjYiIHN0RXZ0OndoZW49IjIwMTgtMDItMjhUMTg6MjQ6MzQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5Y2ExMDUzLTU1ODctZWI0OC1hMjMxLWVmNDE1MzY0Y2JmNiIgc3RFdnQ6d2hlbj0iMjAxOC0wOC0yMFQxNDozODozOSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7p7qgTAAAAFklEQVQokWP4//8/AyWYIs2jBgwbAwCgra5gnLDJrQAAAABJRU5ErkJggg==\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport VConsole from 'vconsole';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nnew VConsole();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}