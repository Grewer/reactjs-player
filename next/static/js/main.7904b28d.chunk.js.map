{"version":3,"sources":["../../../use-state/lib/use-state.js","../../../use-time/lib/use-time.js","../../../use-fullscreen/lib/use-fullscreen.js","../../../use-flvjs/lib/use-flvjs.js","../../src/Flvjs/index.js","../../../use-hlsjs/lib/use-hlsjs.js","../../src/Hlsjs/index.js","../../src/Native/index.js","../../../use-native/lib/use-native.js","../../src/ReactPlayerContext/index.js","../../../../node_modules/style-inject/dist/style-inject.es.js","../../src/TimeSlider/index.js","../../src/ReactPlayerSkin/index.js","../../src/ReactPlayerSkin/bg.png","../../src/ReactPlayerSkinWapper/index.js","../../src/ReactPlayer/index.js","../../../use-volume/lib/use-volume.js","../../../use-playback-rate/lib/use-playback-rate.js","../../../use-pip/lib/use-pip.js","../../../use-autoplay/lib/use-autoplay.js","../../src/GrindPlayer/GrindPlayer.js","../../src/GrindPlayer/useGrindPlayer.js","../../src/GrindPlayer/index.js","../../src/GrindPlayer/useState.js","../../src/GrindPlayer/useTime.js","../../src/GrindPlayer/useVolume.js","../../src/index.js","App.js","../../reactjs-player/dist/GrindPlayer.swf","../../reactjs-player/dist/flashlsOSMF.swf","blank16x9.png","serviceWorker.js","index.js"],"names":["initialState","duration","currentTime","buffered","reducer","state","action","debug","console","getFlvjs","src","Promise","resolve","global","script","Flvjs","props","getVideoElement","config","onMsgChange","React","player","setPlayer","getVideo","ref","configRef","onMsgChangeRef","play","a","isLive","type","url","cleanup","errMsg","destroyPlayer","el","detail","useFlvjs","PropTypes","isRequired","getHls","Hlsjs","enableWorker","currentSrc","info","details","useHlsjs","Native","loaded","onUnload","useNative","ReactPlayerContext","styleInject","css","insertAt","document","head","style","getValue","e","rect","w","getEventXCoordinate","Math","MouseTooltip","tooltip","translateX","getMouseTranslateX","className","styles","transform","numeral","Slider","live","hiding","onChange","sliding","setSliding","value","setValue","setTooltip","sliderRef","reactRef","updateRef","onClick","v","onMouseDown","react","left","width","update","undefined","onMouseUp","onMouseMove","onSliderMouseOver","onSliderMouseMove","onResize","bufferedScaleX","i","end","getBufferedEnd","getBufferedScaleX","trackTranslateX","getTrackTranslateX","role","tabIndex","onKeyDown","onMouseOver","onFocus","onTouchStart","opacity","ReactPlayerSkin","prevented","loading","paused","ended","seeking","waiting","onPlayClick","onPauseClick","changeCurrentTime","muted","volume","changeVolume","onMutedClick","playbackRate","changePlaybackRate","pictureInPictureEnabled","pip","requestPictureInPicture","exitPictureInPicture","fullscreen","requestFullscreen","exitFullscreen","kernelMsg","hovering","setHovering","visible","setVisible","setHiding","onBodyClick","onMenuClick","parseFloat","onMouseEnter","matched","id","l","playing","backgroundImage","onMouseLeave","component","MutedSvg","UnmutedSvg","max","overlay","selectedKeys","key","placement","trigger","object","ReactPlayerSkinWapper","ReactjsPlayer","kernel","onKernelError","controls","videoProps","playerProps","children","setKernelMsg","videoRef","playerRef","getPlayerElement","msg","stateProps","setLoading","setPrevented","setPaused","setEnded","setSeeking","setWaiting","onCanPlay","onPause","onPlay","onPlaying","onEnded","onSeeked","onSeeking","onCanPlayThrough","onWaiting","useVideoState","timeProps","dispatch","temp","onDurationChange","payload","Number","timestamp","t","onTimeUpdate","performance","onProgress","useTime","volumeProps","m","setMuted","setVolume","onVolumeChange","useVolume","playbackRateProps","setPlaybackRate","onRateChange","r","usePlaybackRate","piPProps","enabled","setPiP","onEnterPictureInPicture","onLeavePictureInPicture","usePiP","fullscreenProps","setFullscreen","videoEl","fullscreenElement","useFullscreen","onDocumentClick","useAutoplay","kernelProps","emitter","index","GrindPlayer","this","data","methodName","args","event","fn","token","addListener","eventMap","filter","it","onJSBridge","playerId","JSON","javascriptCallbackFunction","grindPlayerSwf","flashlsOSMFSwf","useGrindPlayer","useState","height","wmode","allowFullScreen","allowScriptAccess","bgcolor","flashVars","autoPlay","bufferTime","streamType","plugin_hls","string","ReactPlayer","delay","timeout","setTimeout","App","memo","list","setList","setInfo","setSrc","setVideoProps","useForm","form","useEffect","ua","UAParser","navigator","userAgent","device","playsInline","supportedList","Hls","flvjs","isSupported","push","getFeatureList","networkStreamIO","enableStashBuffer","autoCleanupSourceBuffer","stashInitialSize","fixAudioTimestampGap","os","name","getSupportedList","useCallback","item","find","setFieldsValue","onSubmit","values","onVideoEvent","log","length","layout","onFinish","initialValues","Item","map","Option","htmlType","blank16x9","alt","onEmptied","onEncrypted","onError","onLoadedData","onLoadedMetadata","onLoadStart","onStalled","onSuspend","onAbort","defaultActiveKey","TabPane","tab","title","column","size","label","href","module","exports","Boolean","window","location","hostname","match","VConsole","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7904b28d.chunk.js","sourcesContent":["import React from 'react';\n\nexport default (src, getVideoElement) => {\n  const [loading, setLoading] = React.useState(false);\n  const [prevented, setPrevented] = React.useState(false);\n  const [paused, setPaused] = React.useState(false);\n  const [ended, setEnded] = React.useState(false);\n  const [seeking, setSeeking] = React.useState(false);\n  const [waiting, setWaiting] = React.useState(false);\n\n  const ref = React.useRef({ getVideoElement, loading, prevented, ended });\n\n  React.useEffect(() => {\n    setLoading(!!src);\n    setPaused(false);\n    setEnded(false);\n    setSeeking(false);\n    setWaiting(false);\n  }, [src]);\n\n  React.useEffect(() => {\n    ref.current.loading = loading;\n    ref.current.prevented = prevented;\n    ref.current.ended = ended;\n  }, [loading, prevented, ended]);\n\n  const onPlayClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      if (ref.current.ended) {\n        el.currentTime = 0;\n      }\n      el.play()\n        .then(() => setPrevented(false))\n        .catch(errMsg => {\n          const debug = console.error;\n          debug(`onPlayClick: ${errMsg}`);\n          setPrevented(true);\n        });\n    }\n    setPaused(false);\n  }, []);\n\n  const onPauseClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.pause();\n    }\n    setPaused(true);\n  }, []);\n\n  const onCanPlay = React.useCallback(() => {\n    if (ref.current.loading) {\n      setLoading(false);\n      onPlayClick();\n    }\n    setWaiting(false);\n  }, [onPlayClick]);\n\n  const onPause = React.useCallback(() => {\n    setPaused(true);\n  }, []);\n\n  const onPlay = React.useCallback(() => {\n    setPaused(false);\n    setEnded(false);\n  }, []);\n\n  const onPlaying = React.useCallback(() => {\n    setPaused(false);\n    setEnded(false);\n  }, []);\n\n  const onEnded = React.useCallback(() => {\n    setEnded(true);\n  }, []);\n\n  const onSeeked = React.useCallback(() => {\n    setSeeking(false);\n  }, []);\n\n  const onSeeking = React.useCallback(() => {\n    setSeeking(true);\n  }, []);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    setWaiting(false);\n  }, []);\n\n  const onWaiting = React.useCallback(() => {\n    setWaiting(true);\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('canplay', onCanPlay);\n    el.addEventListener('pause', onPause);\n    el.addEventListener('play', onPlay);\n    el.addEventListener('playing', onPlaying);\n    el.addEventListener('ended', onEnded);\n    el.addEventListener('seeked', onSeeked);\n    el.addEventListener('seeking', onSeeking);\n    el.addEventListener('canplaythrough', onCanPlayThrough);\n    el.addEventListener('waiting', onWaiting);\n    return () => {\n      el.removeEventListener('canplay', onCanPlay);\n      el.removeEventListener('pause', onPause);\n      el.removeEventListener('play', onPlay);\n      el.removeEventListener('playing', onPlaying);\n      el.removeEventListener('ended', onEnded);\n      el.removeEventListener('seeked', onSeeked);\n      el.removeEventListener('seeking', onSeeking);\n      el.removeEventListener('canplaythrough', onCanPlayThrough);\n      el.removeEventListener('waiting', onWaiting);\n    };\n  }, [onCanPlay, onPause, onPlay, onPlaying, onEnded, onSeeked, onSeeking, onCanPlayThrough, onWaiting]);\n\n  return { loading, prevented, paused, ended, seeking, waiting, onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\nconst initialState = { duration: 0, currentTime: 0, buffered: null };\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { duration: 0, currentTime: 0, buffered: null };\n  }\n  return { ...state, ...action.payload };\n  // switch (action.type) {\n  //   case 'update':\n  //     return { ...state, ...action.payload };\n  //   case 'reset':\n  //     return { duration: 0, currentTime: 0, buffered: null };\n  //   default:\n  //     throw new Error();\n  // }\n};\n\nexport default (src, getVideoElement) => {\n  const [{ duration, currentTime, buffered }, dispatch] = React.useReducer(reducer, initialState);\n  // const [duration, setDuration] = React.useState(0);\n  // const [currentTime, setCurrentTime] = React.useState(0);\n  // const [buffered, setBuffered] = React.useState(null);\n  const ref = React.useRef({ src, getVideoElement, temp: null });\n  // const updateRef = React.useRef(null);\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    ref.current.temp = null;\n    dispatch({ type: 'reset' });\n    // setDuration(0);\n    // setCurrentTime(0);\n    // setBuffered(null);\n    // updateRef.current = null;\n    return () => {\n      ref.current = { getVideoElement: ref.current.getVideoElement, temp: null };\n    };\n  }, [src]);\n\n  const onDurationChange = React.useCallback(e => {\n    const v = e.target.duration;\n    dispatch({ type: 'update', payload: { duration: Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0 } });\n    // setDuration(Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0);\n  }, []);\n\n  const update = React.useCallback(timestamp => {\n    if (!ref || !ref.current || !ref.current.temp) {\n      return;\n    }\n    const { timestamp: t, ...payload } = ref.current.temp;\n    if (250 > timestamp - t) {\n      global.requestAnimationFrame(update);\n      return;\n    }\n    dispatch({ type: 'update', payload });\n    ref.current.temp = null;\n  }, []);\n\n  const onTimeUpdate = React.useCallback(\n    e => {\n      if (!ref || !ref.current || Number.isNaN(e.target.currentTime)) {\n        return;\n      }\n      if (ref.current.temp) {\n        ref.current.temp.currentTime = e.target.currentTime;\n      } else {\n        ref.current.temp = { currentTime: e.target.currentTime, timestamp: performance.now() };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const onProgress = React.useCallback(\n    e => {\n      if (!ref || !ref.current) {\n        return;\n      }\n      if (ref.current.temp) {\n        ref.current.temp.buffered = e.target.buffered;\n      } else {\n        ref.current.temp = { buffered: e.target.buffered, timestamp: performance.now() };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [update],\n  );\n\n  const changeCurrentTime = React.useCallback(t => {\n    const v = parseFloat(t);\n    if (Number.isNaN(v)) {\n      return;\n    }\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.currentTime = v;\n    }\n    ref.current.temp = null;\n    dispatch({ type: 'update', payload: { currentTime: v } });\n    // setCurrentTime(v);\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('durationchange', onDurationChange);\n    el.addEventListener('timeupdate', onTimeUpdate);\n    el.addEventListener('progress', onProgress);\n    return () => {\n      el.removeEventListener('durationchange', onDurationChange);\n      el.removeEventListener('timeupdate', onTimeUpdate);\n      el.removeEventListener('progress', onProgress);\n    };\n  }, [onDurationChange, onTimeUpdate, onProgress]);\n\n  return { duration, currentTime, buffered, changeCurrentTime };\n};\n","import React from 'react';\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nexport default (getVideoElement, getPlayerElement) => {\n  const [fullscreen, setFullscreen] = React.useState(false);\n\n  const requestFullscreen = React.useCallback(() => {\n    const el = getPlayerElement();\n    if (!el) {\n      debug('useVideoFullscreen: 全屏异常，unmounted');\n      return;\n    }\n    if (el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el.msRequestFullscreen) {\n      // 兼容 IE11\n      el.msRequestFullscreen();\n    } else if (el.webkitRequestFullscreen) {\n      // 兼容微信 PC 版内置浏览器\n      el.webkitRequestFullscreen();\n    } else {\n      const videoEl = getVideoElement();\n      if (videoEl && videoEl.webkitEnterFullScreen) {\n        // 兼容 iOS Safari\n        videoEl.webkitEnterFullScreen();\n      } else {\n        // 异常分支，不应该进入\n        debug('useVideoFullscreen: 全屏异常，浏览器不支持 requestFullscreen');\n      }\n    }\n  }, [getVideoElement, getPlayerElement]);\n\n  const exitFullscreen = React.useCallback(() => {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else {\n      // 异常分支，不应该进入\n      debug('useVideoFullscreen: 退出全屏异常，浏览器不支持 exitFullscreen');\n    }\n  }, []);\n\n  const onChange = React.useCallback(() => {\n    const el = getPlayerElement();\n    const fullscreenElement =\n      document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement;\n    setFullscreen(!!el && fullscreenElement === el);\n  }, [getPlayerElement]);\n\n  React.useEffect(() => {\n    document.addEventListener('fullscreenchange', onChange);\n    document.addEventListener('webkitfullscreenchange', onChange);\n    document.onmsfullscreenchange = onChange;\n    return () => {\n      document.removeEventListener('fullscreenchange', onChange);\n      document.removeEventListener('webkitfullscreenchange', onChange);\n      document.onmsfullscreenchange = null;\n    };\n  }, [onChange]);\n\n  return { fullscreen, requestFullscreen, exitFullscreen };\n};\n","import React from 'react';\n\nconst getFlvjs = src =>\n  new Promise(resolve => {\n    if (global.flvjs) {\n      resolve(global.flvjs);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.flvjs);\n    script.onerror = () => resolve(global.flvjs);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = player => {\n  if (!player) {\n    return;\n  }\n  try {\n    player.pause();\n  } catch (errMsg) {}\n  try {\n    player.unload();\n  } catch (errMsg) {}\n  try {\n    player.detachMediaElement();\n  } catch (errMsg) {}\n  try {\n    player.destroy();\n  } catch (errMsg) {}\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef(src);\n  const configRef = React.useRef(config);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getFlvjs('https://unpkg.com/flv.js/dist/flv.min.js');\n      if (!global.flvjs || ref.current !== src) {\n        debug('useFlvjs: 加载 flv.js 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(global.flvjs.createPlayer({ isLive: true, type: 'flv', url: src }, configRef.current));\n    };\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    if (!player) {\n      return cleanup;\n    }\n    const el = getVideo.current();\n    if (!el) {\n      return cleanup;\n    }\n    player.attachMediaElement(el);\n    player.load();\n    // player.play();\n    player.on(global.flvjs.Events.ERROR, (type, detail) => {\n      if (onMsgChangeRef && onMsgChangeRef.current) {\n        onMsgChangeRef.current({ type, detail });\n      }\n    });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useFlvjs from '@reactjs-player/use-flvjs';\n\nconst Flvjs = props => {\n  useFlvjs(props);\n  return null;\n};\n\nFlvjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nFlvjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(Flvjs);\n","import React from 'react';\n\nconst getHls = src =>\n  new Promise(resolve => {\n    if (global.Hls) {\n      resolve(global.Hls);\n      return;\n    }\n    const script = global.document.createElement('script');\n    global.document.body.appendChild(script);\n    script.onload = () => resolve(global.Hls);\n    script.onerror = () => resolve(global.Hls);\n    script.async = true;\n    script.src = src;\n  });\n\n// eslint-disable-next-line no-console\nconst debug = console.error;\n\nconst destroyPlayer = player => {\n  if (player) {\n    try {\n      player.destroy();\n    } catch (errMsg) {}\n  }\n};\n\nexport default ({ getVideoElement, src, config, onMsgChange }) => {\n  const [player, setPlayer] = React.useState(null);\n  const getVideo = React.useRef(getVideoElement);\n  const ref = React.useRef('');\n  const configRef = React.useRef(null);\n  const onMsgChangeRef = React.useRef(onMsgChange);\n\n  React.useEffect(() => {\n    ref.current = src;\n    configRef.current = config;\n    return () => {\n      ref.current = '';\n    };\n  }, [src, config]);\n\n  React.useEffect(() => {\n    const play = async () => {\n      await getHls('https://unpkg.com/hls.js/dist/hls.min.js');\n      if (!global.Hls || ref.current !== src) {\n        debug('useHlsjs: 加载 hls.js 失败或者 src 已经变更');\n        return;\n      }\n      setPlayer(new global.Hls({ enableWorker: false, ...configRef.current }));\n    };\n\n    setPlayer(null);\n    onMsgChangeRef.current(null);\n    if (src) {\n      play();\n    }\n  }, [src]);\n\n  React.useEffect(() => {\n    const cleanup = () => destroyPlayer(player);\n    if (!player || !ref.current) {\n      return cleanup;\n    }\n    const currentSrc = ref.current;\n    const el = getVideo.current();\n    if (!el) {\n      return cleanup;\n    }\n    player.attachMedia(el);\n    player.once(global.Hls.Events.MEDIA_ATTACHED, () => {\n      if (currentSrc === ref.current) {\n        player.loadSource(ref.current);\n      }\n    });\n    // player.once(global.Hls.Events.MANIFEST_PARSED, () => {\n    //   if (currentSrc === ref.current) {\n    //     el.play();\n    //   }\n    // });\n    player.on(global.Hls.Events.ERROR, (e, info) => {\n      if (onMsgChangeRef && onMsgChangeRef.current && info && info.fatal) {\n        onMsgChangeRef.current({ type: info.type, detail: info.details });\n      }\n    });\n    return cleanup;\n  }, [player]);\n\n  return null;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useHlsjs from '@reactjs-player/use-hlsjs';\n\nconst Hlsjs = props => {\n  useHlsjs(props);\n  return null;\n};\n\nHlsjs.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  config: PropTypes.object,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nHlsjs.defaultProps = {\n  src: '',\n  config: null,\n};\n\nexport default React.memo(Hlsjs);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useNative from '@reactjs-player/use-native';\n\nconst Native = props => {\n  useNative(props);\n  return null;\n};\n\nNative.propTypes = {\n  getVideoElement: PropTypes.func.isRequired,\n  src: PropTypes.string,\n  onMsgChange: PropTypes.func.isRequired,\n};\n\nNative.defaultProps = {\n  src: '',\n};\n\nexport default React.memo(Native);\n","import React from 'react';\n\nexport default ({ getVideoElement, src, onMsgChange }) => {\n  const ref = React.useRef({ getVideoElement, src: '', onMsgChange, loaded: false });\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    ref.current.getVideoElement = getVideoElement;\n  }, [src, getVideoElement]);\n\n  React.useEffect(() => {\n    ref.current.onMsgChange(null);\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    el.pause();\n    el.src = src;\n    // el.play().catch(() => {});\n    el.load();\n  }, [src]);\n\n  // 页面切换时强制停止播放\n  const onUnload = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    el.pause();\n    el.src = '';\n    try {\n      el.load();\n    } catch (errMsg) {}\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('beforeunload', onUnload);\n    global.addEventListener('pagehide', onUnload);\n    global.addEventListener('unload', onUnload);\n    return () => {\n      onUnload({ type: 'useEffect' });\n    };\n  }, [onUnload]);\n\n  return null;\n};\n","import React from 'react';\n\nconst ReactPlayerContext = React.createContext([{}, () => {}]);\n\nexport default ReactPlayerContext;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\nimport styles from './index.module.less';\n\nconst getBufferedEnd = (currentTime, buffered) => {\n  if (!buffered) {\n    return 0;\n  }\n  for (let i = buffered.length - 1; 0 <= i; i -= 1) {\n    const end = buffered.end(i);\n    if (currentTime <= end && buffered.start(i) <= currentTime) {\n      return end;\n    }\n  }\n  return 0;\n};\n\nconst getEventXCoordinate = e => {\n  if (e.changedTouches && 1 <= e.changedTouches.length) {\n    return e.changedTouches[0].pageX;\n  }\n  return e.clientX || 0;\n};\n\nconst getValue = (e, rect, duration) => {\n  const w = getEventXCoordinate(e) - rect.left;\n  if (0 >= w) {\n    return 0;\n  }\n  if (w >= rect.width) {\n    return duration;\n  }\n  return Math.round((duration * w) / rect.width);\n};\n\nconst getBufferedScaleX = ({ buffered, currentTime, sliding, duration, live }) => {\n  if (live || 0 >= duration || sliding) {\n    return 0;\n  }\n  const e = getBufferedEnd(currentTime, buffered);\n  return (e / duration).toFixed(3);\n};\n\nconst getTrackTranslateX = ({ duration, currentTime, live }) => {\n  if (live) {\n    return 0;\n  }\n  if (0 === duration) {\n    return -100;\n  }\n  return ((100 * currentTime) / duration - 100).toFixed(1);\n};\n\nconst getMouseTranslateX = ({ duration, tooltip }) => {\n  if (0 >= duration) {\n    return 0;\n  }\n  return ((100 * tooltip) / duration).toFixed(1);\n};\n\nconst MouseTooltip = React.memo(({ duration, tooltip }) => {\n  const translateX = getMouseTranslateX({ duration, tooltip });\n  return (\n    <div className={styles.tooltip} style={{ transform: `translateX(${translateX}%)` }}>\n      <div className={styles.tip}>{numeral(tooltip).format('00:00:00')}</div>\n    </div>\n  );\n});\n\nMouseTooltip.propTypes = {\n  duration: PropTypes.number.isRequired,\n  tooltip: PropTypes.number.isRequired,\n};\n\nconst Slider = React.memo(({ live, hiding, currentTime, duration, buffered, onChange, sliding, setSliding }) => {\n  const [value, setValue] = React.useState(currentTime);\n  const [tooltip, setTooltip] = React.useState(0);\n\n  const sliderRef = React.useRef(null);\n  const reactRef = React.useRef(null);\n  const updateRef = React.useRef(null);\n\n  const onClick = React.useCallback(\n    e => {\n      e.preventDefault();\n      setSliding(false);\n      if (live) {\n        return;\n      }\n      const rect = e.currentTarget.getBoundingClientRect();\n      const v = getValue(e, rect, duration);\n      onChange(v);\n    },\n    [onChange, live, duration, setSliding],\n  );\n\n  const onMouseDown = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (!sliderRef || !sliderRef.current || !reactRef || live) {\n        return;\n      }\n      const react = sliderRef.current.getBoundingClientRect();\n      reactRef.current = { left: react.left, width: react.width };\n      setSliding(true);\n    },\n    [live, setSliding],\n  );\n\n  const update = React.useCallback(() => {\n    if (!updateRef || !updateRef.current) {\n      return;\n    }\n    // eslint-disable-next-line no-undefined\n    if (undefined !== updateRef.current.value) {\n      setValue(updateRef.current.value);\n    }\n    // eslint-disable-next-line no-undefined\n    if (undefined !== updateRef.current.tooltip) {\n      setTooltip(updateRef.current.tooltip);\n    }\n    updateRef.current = null;\n  }, []);\n\n  const onMouseUp = React.useCallback(\n    e => {\n      e.preventDefault();\n      setSliding(false);\n      if (reactRef && reactRef.current && updateRef) {\n        const v = getValue(e, reactRef.current, duration);\n        updateRef.current = { value: v };\n        update();\n        onChange(v);\n      }\n    },\n    [onChange, duration, update, setSliding],\n  );\n\n  const onMouseMove = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (!reactRef || !reactRef.current || !updateRef) {\n        return;\n      }\n      const v = getValue(e, reactRef.current, duration);\n      if (updateRef.current) {\n        updateRef.current.value = v;\n      } else {\n        updateRef.current = { value: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  React.useEffect(() => {\n    if (sliding) {\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n\n      document.addEventListener('touchmove', onMouseMove);\n      document.addEventListener('touchcancel', onMouseUp);\n      document.addEventListener('touchend', onMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', onMouseUp);\n\n        document.removeEventListener('touchmove', onMouseMove);\n        document.removeEventListener('touchcancel', onMouseUp);\n        document.removeEventListener('touchend', onMouseUp);\n      };\n    }\n    return () => {};\n  }, [sliding, onMouseMove, onMouseUp]);\n\n  const onSliderMouseOver = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (live) {\n        return;\n      }\n      const react = sliderRef.current.getBoundingClientRect();\n      reactRef.current = { left: react.left, width: react.width };\n    },\n    [live],\n  );\n\n  const onSliderMouseMove = React.useCallback(\n    e => {\n      e.preventDefault();\n      if (!reactRef || !reactRef.current || !updateRef) {\n        return;\n      }\n      const v = getValue(e, reactRef.current, duration);\n      if (updateRef.current) {\n        updateRef.current.tooltip = v;\n      } else {\n        updateRef.current = { tooltip: v };\n        global.requestAnimationFrame(update);\n      }\n    },\n    [duration, update],\n  );\n\n  const onResize = React.useCallback(e => {\n    e.preventDefault();\n    if (!sliderRef || !sliderRef.current) {\n      return;\n    }\n    const react = sliderRef.current.getBoundingClientRect();\n    reactRef.current = { left: react.left, width: react.width };\n  }, []);\n\n  React.useEffect(() => {\n    global.addEventListener('resize', onResize);\n    return () => {\n      global.removeEventListener('resize', onResize);\n    };\n  }, [onResize]);\n\n  const bufferedScaleX = getBufferedScaleX({ buffered, currentTime, sliding, duration, live });\n  const trackTranslateX = getTrackTranslateX({ duration, currentTime: sliding ? value : currentTime, live });\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={sliding ? styles.slidingSlider : styles.slider}\n      ref={sliderRef}\n      onClick={onClick}\n      onKeyDown={() => {}}\n      onMouseOver={onSliderMouseOver}\n      onMouseMove={onSliderMouseMove}\n      onFocus={() => {}}\n    >\n      {!live && (\n        <button type=\"button\" className={styles.sliderButton} onTouchStart={onMouseDown}>\n          <span className={styles.slidingTip} style={{ opacity: sliding ? 1 : 0 }}>\n            快进到：{numeral(value).format('00:00:00')}\n          </span>\n        </button>\n      )}\n      <div className={styles.sliderRail}>\n        <div className={styles.sliderBuffered} style={{ transform: `scaleX(${bufferedScaleX})` }} />\n        <div className={styles.sliderTrack} style={{ transform: `translateX(${trackTranslateX}%)` }} />\n      </div>\n      <div className={styles.sliderHandleRail} style={{ transform: `translateX(${trackTranslateX}%)` }}>\n        <button\n          type=\"button\"\n          className={`${styles.sliderHandle} ${hiding ? styles.hidingsliderHandle : ''}`}\n          onMouseDown={onMouseDown}\n          onTouchStart={onMouseDown}\n        />\n      </div>\n      {!live && <MouseTooltip duration={duration} tooltip={sliding ? value : tooltip} />}\n    </div>\n  );\n});\n\nSlider.propTypes = {\n  live: PropTypes.bool.isRequired,\n  hiding: PropTypes.bool.isRequired,\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  onChange: PropTypes.func,\n  sliding: PropTypes.bool.isRequired,\n  setSliding: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n  buffered: null,\n  onChange: () => {},\n};\n\nexport default Slider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport numeral from 'numeral';\nimport { Slider, Dropdown, Menu } from 'antd';\nimport Icon, {\n  LoadingOutlined,\n  PlayCircleOutlined,\n  CaretRightOutlined,\n  PauseOutlined,\n  FullscreenExitOutlined,\n  FullscreenOutlined,\n} from '@ant-design/icons';\n\nimport TimeSlider from '../TimeSlider';\nimport 'antd/lib/tooltip/style/index.css';\nimport 'antd/lib/slider/style/index.css';\nimport 'antd/lib/dropdown/style/index.css';\nimport styles from './index.module.less';\n\nimport { ReactComponent as MutedSvg } from './muted.svg';\nimport { ReactComponent as UnmutedSvg } from './unmuted.svg';\nimport bgImg from './bg.png';\n\nconst ReactPlayerSkin = React.memo(\n  ({\n    live,\n    src,\n    prevented,\n    loading,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    onPlayClick,\n    onPauseClick,\n    duration,\n    buffered,\n    currentTime,\n    changeCurrentTime,\n    muted,\n    volume,\n    changeVolume,\n    onMutedClick,\n    playbackRate,\n    changePlaybackRate,\n    pictureInPictureEnabled,\n    pip,\n    requestPictureInPicture,\n    exitPictureInPicture,\n    fullscreen,\n    requestFullscreen,\n    exitFullscreen,\n    kernelMsg,\n  }) => {\n    const [hovering, setHovering] = React.useState(false);\n    const [sliding, setSliding] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const [hiding, setHiding] = React.useState(false);\n\n    const onBodyClick = React.useCallback(() => setVisible(false), []);\n\n    const onMenuClick = React.useCallback(\n      e => {\n        changePlaybackRate(parseFloat(e.key, 10));\n        setVisible(false);\n      },\n      [changePlaybackRate],\n    );\n\n    const onMouseEnter = React.useCallback(() => {\n      if (global.matchMedia) {\n        const matched = global.matchMedia('(hover: none), (pointer: coarse)');\n        if (matched && matched.matches) {\n          return;\n        }\n      }\n      setHovering(true);\n    }, []);\n\n    React.useEffect(() => {\n      document.body.addEventListener('click', onBodyClick);\n      return () => document.body.removeEventListener('click', onBodyClick);\n    }, [onBodyClick]);\n\n    React.useEffect(() => {\n      setVisible(false);\n      setHiding(false);\n    }, [src]);\n\n    React.useEffect(() => {\n      if (hovering || sliding || visible) {\n        setHiding(false);\n      }\n    }, [hovering, sliding, visible]);\n\n    React.useEffect(() => {\n      if (hiding || hovering || sliding || visible) {\n        return () => {};\n      }\n      const id = global.setTimeout(() => setHiding(true), 3000);\n      return () => global.clearTimeout(id);\n    }, [hiding, hovering, sliding, visible]);\n\n    const l = loading || (src && 0 === duration && 0 === currentTime);\n\n    const playing = !prevented && !paused && !ended;\n\n    return (\n      <div className={styles.reactPlayerSkin}>\n        <div\n          className={hiding ? styles.hiddenControlsBg : styles.controlsBg}\n          style={{ backgroundImage: `url(${bgImg})` }}\n        />\n        <button\n          type=\"button\"\n          className={src ? styles.hiddenVideoMask : styles.videoMask}\n          onMouseMove={() => setHiding(false)}\n          onClick={() => setHiding(false)}\n        />\n        {src && (waiting || seeking) && !l && (\n          <div className={styles.waiting}>\n            <LoadingOutlined />\n          </div>\n        )}\n        {src && !l && (prevented || paused || ended) && (\n          <button type=\"button\" className={styles.ended} onClick={onPlayClick}>\n            <PlayCircleOutlined />\n          </button>\n        )}\n        <div\n          className={hiding ? styles.hiddenControls : styles.controls}\n          onMouseEnter={() => onMouseEnter}\n          onMouseLeave={() => setHovering(false)}\n        >\n          <TimeSlider\n            live={live}\n            hiding={hiding}\n            duration={duration}\n            currentTime={currentTime}\n            buffered={buffered}\n            sliding={sliding}\n            setSliding={setSliding}\n            onChange={changeCurrentTime}\n          />\n          <div className={styles.bar}>\n            <div className={styles.flexItem}>\n              <button type=\"button\" onClick={playing ? onPauseClick : onPlayClick}>\n                {playing ? <PauseOutlined /> : <CaretRightOutlined />}\n                {/* <CaretRightOutlined /> */}\n              </button>\n              <span className={styles.volume}>\n                {(muted || 0 === volume) && (\n                  <button type=\"button\" onClick={onMutedClick}>\n                    <Icon component={MutedSvg} />\n                  </button>\n                )}\n                {!muted && 0 !== volume && (\n                  <button type=\"button\" onClick={onMutedClick}>\n                    <Icon component={UnmutedSvg} />\n                  </button>\n                )}\n                <span className={styles.volumeSlider}>\n                  <Slider value={volume * 100} onChange={v => changeVolume(v / 100)} max={100} />\n                </span>\n              </span>\n              <span className={styles.controlText}>\n                {numeral(Math.round(currentTime)).format('00:00:00')}\n                {live ? (\n                  <span className={styles.controlText}>\n                    <span className={styles.liveDot} />\n                    直播\n                  </span>\n                ) : (\n                  ` / ${numeral(Math.round(duration)).format('00:00:00')}`\n                )}\n              </span>\n            </div>\n            {pictureInPictureEnabled && (\n              <button\n                type=\"button\"\n                className={styles.textBtn}\n                onClick={pip ? exitPictureInPicture : requestPictureInPicture}\n              >\n                画中画\n              </button>\n            )}\n            {!live && (\n              <Dropdown\n                visible={visible}\n                overlay={\n                  <Menu selectedKeys={[playbackRate.toString()]} onClick={onMenuClick}>\n                    <Menu.Item key=\"0.25\">&nbsp;&nbsp;0.25 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"0.5\">&nbsp;&nbsp;0.5 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"1\">&nbsp;&nbsp;1 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"1.25\">&nbsp;&nbsp;1.25 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"1.5\">&nbsp;&nbsp;1.5 倍速&nbsp;&nbsp;</Menu.Item>\n                    <Menu.Item key=\"2\">&nbsp;&nbsp;2 倍速&nbsp;&nbsp;</Menu.Item>\n                  </Menu>\n                }\n                placement=\"topRight\"\n                trigger={['click']}\n              >\n                <button type=\"button\" className={styles.textBtn} onClick={() => setVisible(true)}>\n                  倍速\n                </button>\n              </Dropdown>\n            )}\n            {fullscreen && (\n              <button type=\"button\" onClick={exitFullscreen}>\n                <FullscreenExitOutlined />\n              </button>\n            )}\n            {!fullscreen && (\n              <button type=\"button\" onClick={requestFullscreen}>\n                <FullscreenOutlined />\n              </button>\n            )}\n          </div>\n        </div>\n        {l && !kernelMsg && (\n          <div className={styles.loading}>\n            <LoadingOutlined />\n          </div>\n        )}\n        {kernelMsg && (\n          <div className={styles.kernelMsg}>\n            {kernelMsg.type}: {kernelMsg.detail}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\n\nReactPlayerSkin.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string,\n  prevented: PropTypes.bool.isRequired,\n  // controls: PropTypes.bool.isRequired,\n  // state\n  loading: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n  ended: PropTypes.bool.isRequired,\n  seeking: PropTypes.bool.isRequired,\n  waiting: PropTypes.bool.isRequired,\n  onPlayClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n  // time\n  duration: PropTypes.number.isRequired,\n  buffered: PropTypes.object,\n  currentTime: PropTypes.number.isRequired,\n  changeCurrentTime: PropTypes.func.isRequired,\n  // volume\n  muted: PropTypes.bool.isRequired,\n  volume: PropTypes.number.isRequired,\n  changeVolume: PropTypes.func.isRequired,\n  onMutedClick: PropTypes.func.isRequired,\n  // playbackRate\n  playbackRate: PropTypes.number.isRequired,\n  changePlaybackRate: PropTypes.func.isRequired,\n  // pip\n  pictureInPictureEnabled: PropTypes.bool.isRequired,\n  pip: PropTypes.bool.isRequired,\n  requestPictureInPicture: PropTypes.func.isRequired,\n  exitPictureInPicture: PropTypes.func.isRequired,\n  // fullscreen\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  exitFullscreen: PropTypes.func.isRequired,\n  // kernel\n  kernelMsg: PropTypes.object,\n};\n\nReactPlayerSkin.defaultProps = {\n  live: false,\n  src: '',\n  buffered: null,\n  kernelMsg: null,\n};\n\nexport default ReactPlayerSkin;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==\"","import React from 'react';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport ReactPlayerSkin from '../ReactPlayerSkin';\n\nconst ReactPlayerSkinWapper = () => {\n  const props = React.useContext(ReactPlayerContext);\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <ReactPlayerSkin {...props} />;\n};\n\nexport default ReactPlayerSkinWapper;\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useVideoState from '@reactjs-player/use-state';\nimport useTime from '@reactjs-player/use-time';\nimport useVolume from '@reactjs-player/use-volume';\nimport usePlaybackRate from '@reactjs-player/use-playback-rate';\nimport usePiP from '@reactjs-player/use-pip';\nimport useFullscreen from '@reactjs-player/use-fullscreen';\nimport useAutoplay from '@reactjs-player/use-autoplay';\n\nimport Flvjs from '../Flvjs';\nimport Hlsjs from '../Hlsjs';\nimport Native from '../Native';\nimport ReactPlayerSkinWapper from '../ReactPlayerSkinWapper';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport styles from './index.module.less';\n\nconst ReactjsPlayer = ({\n  kernel,\n  live,\n  config = null,\n  onKernelError,\n\n  src = '',\n  type,\n  controls = true,\n  muted = false,\n  // autoPlay = true,\n\n  className = '',\n  videoProps = null,\n  playerProps = null,\n  children = null,\n}) => {\n  const [kernelMsg, setKernelMsg] = React.useState(null);\n  const videoRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n\n  const getVideoElement = React.useCallback(() => videoRef && videoRef.current, []);\n  const getPlayerElement = React.useCallback(() => playerRef && playerRef.current, []);\n  const onMsgChange = React.useCallback(\n    msg => {\n      setKernelMsg(msg);\n      onKernelError(msg);\n    },\n    [onKernelError],\n  );\n\n  const stateProps = useVideoState(src, getVideoElement);\n  const timeProps = useTime(src, getVideoElement);\n  const volumeProps = useVolume(getVideoElement, muted);\n  const playbackRateProps = usePlaybackRate(live, getVideoElement);\n  const piPProps = usePiP(src, getVideoElement);\n  const fullscreenProps = useFullscreen(getVideoElement, getPlayerElement);\n  useAutoplay(src, getVideoElement, stateProps.prevented);\n\n  const kernelProps = { getVideoElement, src, config, onMsgChange };\n\n  return (\n    <div className={`${styles.reactPlayer} ${className}`} ref={playerRef} {...playerProps}>\n      {'flvjs' === kernel && <Flvjs {...kernelProps} />}\n      {'hlsjs' === kernel && <Hlsjs {...kernelProps} />}\n      {'native' === kernel && <Native {...kernelProps} />}\n      <video className={styles.video} ref={videoRef} controls={'controls' === controls} type={type} {...videoProps} />\n      <ReactPlayerContext.Provider\n        value={{\n          getVideoElement,\n          live,\n          src,\n          controls,\n          ...stateProps,\n          ...timeProps,\n          ...volumeProps,\n          ...playbackRateProps,\n          ...piPProps,\n          ...fullscreenProps,\n          kernelMsg,\n        }}\n      >\n        {true === controls && <ReactPlayerSkinWapper />}\n        {children}\n      </ReactPlayerContext.Provider>\n    </div>\n  );\n};\n\nReactjsPlayer.propTypes = {\n  kernel: PropTypes.oneOf(['hlsjs', 'flvjs', 'native']).isRequired,\n  live: PropTypes.bool.isRequired,\n  config: PropTypes.object,\n  onKernelError: PropTypes.func,\n\n  src: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  controls: PropTypes.oneOf([false, true, 'controls']),\n  muted: PropTypes.bool,\n  // autoPlay: PropTypes.bool,\n\n  className: PropTypes.string,\n  videoProps: PropTypes.object,\n  playerProps: PropTypes.object,\n\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n\nReactjsPlayer.defaultProps = {\n  config: null,\n  onKernelError: () => {},\n\n  src: '',\n  controls: true,\n  muted: false,\n  // autoPlay: true,\n\n  className: '',\n  videoProps: null,\n  playerProps: null,\n\n  children: null,\n};\n\nexport default React.memo(ReactjsPlayer);\n","import React from 'react';\n\nexport default (getVideoElement, m = false) => {\n  const [muted, setMuted] = React.useState(m);\n  const [volume, setVolume] = React.useState(1);\n\n  const ref = React.useRef({ getVideoElement, muted, volume });\n\n  React.useEffect(() => {\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [muted, volume]);\n\n  const onVolumeChange = React.useCallback(e => {\n    const v = e.target.volume;\n    setVolume(v);\n    setMuted(0 === v ? true : e.target.muted);\n  }, []);\n\n  const onMutedClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.muted = !ref.current.muted;\n      if (0 === ref.current.volume && ref.current.muted) {\n        el.volume = 1;\n      }\n      // setMuted(el.muted);\n    }\n  }, []);\n\n  const changeVolume = React.useCallback(v => {\n    const el = ref.current.getVideoElement();\n    if (el) {\n      el.volume = v;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      el.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [onVolumeChange]);\n\n  return { muted, volume, onMutedClick, changeVolume };\n};\n","import React from 'react';\n\nexport default (live, getVideoElement) => {\n  const [playbackRate, setPlaybackRate] = React.useState(1);\n\n  const onRateChange = React.useCallback(e => {\n    setPlaybackRate(e.target.playbackRate);\n  }, []);\n\n  const changePlaybackRate = React.useCallback(\n    r => {\n      const el = getVideoElement();\n      if (el) {\n        el.playbackRate = r;\n        setPlaybackRate(r);\n      }\n    },\n    [getVideoElement],\n  );\n\n  React.useEffect(() => {\n    if (live) {\n      setPlaybackRate(1);\n      changePlaybackRate(1);\n    }\n  }, [live, changePlaybackRate]);\n\n  React.useEffect(() => {\n    const el = getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('ratechange', onRateChange);\n    return () => {\n      el.removeEventListener('ratechange', onRateChange);\n    };\n  }, [getVideoElement, onRateChange]);\n\n  return { playbackRate, changePlaybackRate };\n};\n","import React from 'react';\n\nexport default (src, getVideoElement) => {\n  const [enabled] = React.useState(!!document.pictureInPictureEnabled);\n  const [pip, setPiP] = React.useState(false);\n\n  const ref = React.useRef({ src, getVideoElement });\n\n  // React.useEffect(() => {\n  //   setEnabled(!!document.pictureInPictureEnabled);\n  // }, []);\n\n  React.useEffect(() => {\n    ref.current.src = src;\n  }, [src]);\n\n  const requestPictureInPicture = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (el && el.requestPictureInPicture && ref.current.src) {\n      el.requestPictureInPicture();\n    }\n  }, []);\n\n  const exitPictureInPicture = React.useCallback(() => {\n    if (document.exitPictureInPicture) {\n      document.exitPictureInPicture();\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (pip && !src) {\n      exitPictureInPicture();\n    }\n  }, [src, pip, exitPictureInPicture]);\n\n  const onEnterPictureInPicture = React.useCallback(() => {\n    setPiP(true);\n  }, []);\n\n  const onLeavePictureInPicture = React.useCallback(() => {\n    setPiP(false);\n  }, []);\n\n  React.useEffect(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return () => {};\n    }\n    el.addEventListener('enterpictureinpicture', onEnterPictureInPicture);\n    el.addEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    return () => {\n      el.removeEventListener('enterpictureinpicture', onEnterPictureInPicture);\n      el.removeEventListener('leavepictureinpicture', onLeavePictureInPicture);\n    };\n  }, [onEnterPictureInPicture, onLeavePictureInPicture]);\n\n  return { pictureInPictureEnabled: enabled, pip, requestPictureInPicture, exitPictureInPicture };\n};\n","import React from 'react';\n\nexport default (src, getVideoElement, prevented) => {\n  const ref = React.useRef({ src, getVideoElement, loaded: false });\n\n  React.useEffect(() => {\n    ref.current.src = src;\n    ref.current.prevented = prevented;\n  }, [src, prevented]);\n\n  // 手机端自动播放\n  const onDocumentClick = React.useCallback(() => {\n    const el = ref.current.getVideoElement();\n    if (!el) {\n      return;\n    }\n    document.removeEventListener('click', onDocumentClick);\n    if (ref.current.loaded) {\n      return;\n    }\n    ref.current.loaded = true;\n    if (!ref.current.src) {\n      el.src = '';\n      el.play().catch(() => {});\n      el.pause();\n    } else if (ref.current.prevented) {\n      el.play();\n    }\n  }, []);\n\n  React.useEffect(() => {\n    document.addEventListener('click', onDocumentClick);\n    return () => document.removeEventListener('click', onDocumentClick);\n  }, [onDocumentClick]);\n};\n","import { EventEmitter } from 'fbemitter';\n\nlet emitter = null;\nlet index = 0;\n\nclass GrindPlayer {\n  /**\n   * 创建 GrindPlayer 实例\n   */\n  constructor(id) {\n    this.id = id;\n    this.el = null;\n    this.emitter = new EventEmitter();\n    this.tokenList = [];\n    this.eventMap = [];\n\n    this.addListener();\n  }\n\n  addListener() {\n    if (!emitter) {\n      emitter = new EventEmitter();\n    }\n\n    this.tokenList = [\n      emitter.addListener(`${this.id}.onJavaScriptBridgeCreated`, () => {\n        this.el = document.getElementById(this.id);\n        // this.el.addEventListener('mediaError', () => );\n      }),\n      emitter.addListener(`${this.id}.mediaSize`, data => {\n        if (0 === data.videoHeight && 0 === data.videoWidth) {\n          this.emitter.emit('canplay');\n        } else {\n          this.emitter.emit('canplaythrough');\n        }\n      }),\n      emitter.addListener(`${this.id}.paused`, () => this.emitter.emit('pause')),\n      emitter.addListener(`${this.id}.playing`, () => this.emitter.emit('playing')),\n      emitter.addListener(`${this.id}.seeking`, () => this.emitter.emit('seeking')),\n      emitter.addListener(`${this.id}.seeked`, () => this.emitter.emit('seeked')),\n      emitter.addListener(`${this.id}.complete`, () => this.emitter.emit('ended')),\n      emitter.addListener(`${this.id}.buffering`, () => this.emitter.emit('waiting')),\n\n      emitter.addListener(`${this.id}.durationChange`, e => this.emitter.emit('durationchange', e)),\n      emitter.addListener(`${this.id}.timeChange`, e => this.emitter.emit('timeupdate', e)),\n      emitter.addListener(`${this.id}.progress`, e => this.emitter.emit('progress', e)),\n\n      emitter.addListener(`${this.id}.volumeChange`, e => this.emitter.emit('volumechange', e)),\n    ];\n  }\n\n  invoker(methodName, ...args) {\n    if (!this.el) {\n      return;\n    }\n    this.el[methodName](...args);\n  }\n\n  addEventListener(event, fn) {\n    if (!this.eventMap) {\n      return;\n    }\n    const token = this.emitter.addListener(event, fn);\n    this.eventMap.push({ token, event, fn });\n  }\n\n  removeEventListener(event, fn) {\n    if (!this.eventMap) {\n      return;\n    }\n    this.eventMap = this.eventMap.filter(it => {\n      if (it.event !== event) {\n        return true;\n      }\n      if (!fn && it.fn !== fn) {\n        return true;\n      }\n      it.token.remove();\n      return false;\n    });\n  }\n\n  destroy() {\n    if (this.eventMap) {\n      this.eventMap.map(it => it.token.remove());\n      delete this.eventMap;\n    }\n\n    if (this.tokenList) {\n      this.tokenList.map(it => it.remove());\n      delete this.tokenList;\n    }\n\n    if (this.emitter) {\n      this.emitter.removeAllListeners();\n    }\n    delete this.emitter;\n\n    delete this.id;\n    delete this.el;\n  }\n}\n\nconst onJSBridge = (playerId, event, data) => {\n  if (!emitter) {\n    emitter = new EventEmitter();\n  }\n  console.log(`${event}: ${JSON.stringify(data)}`);\n  emitter.emit(`${playerId}.${event}`, data);\n};\n\nexport default {\n  getPlayerId: () => `grindPlayer${index++}`,\n\n  getGrindPlayer: (id, javascriptCallbackFunction) => {\n    if (!global[javascriptCallbackFunction]) {\n      global[javascriptCallbackFunction] = onJSBridge;\n    }\n    return new GrindPlayer(id);\n  },\n};\n","import React from 'react';\nimport GrindPlayer from './GrindPlayer';\n\nconst initialState = {\n  loading: false,\n  prevented: false,\n  paused: false,\n  ended: false,\n  seeking: false,\n  waiting: false,\n  duration: 0,\n  currentTime: 0,\n  buffered: null,\n  muted: false,\n  volume: 1,\n  pictureInPictureEnabled: false,\n  pip: false,\n  fullscreen: false,\n  playbackRate: 1,\n  javascriptCallbackFunction: 'onJSBridge',\n  kernelMsg: null,\n};\n\nconst reducer = (state, action) => {\n  if ('reset' === action.type) {\n    return { ...initialState, ...action.payload };\n  }\n  return { ...state, ...action.payload };\n};\n\nexport default ({ src }) => {\n  const [\n    {\n      loading,\n      prevented,\n      paused,\n      ended,\n      seeking,\n      waiting,\n      duration,\n      currentTime,\n      buffered,\n      muted,\n      volume,\n      pictureInPictureEnabled,\n      pip,\n      fullscreen,\n      playbackRate,\n      javascriptCallbackFunction,\n      kernelMsg,\n    },\n    dispatch,\n  ] = React.useReducer(reducer, initialState);\n\n  const id = React.useMemo(() => GrindPlayer.getPlayerId(), []);\n  const ref = React.useRef({});\n\n  React.useEffect(() => {\n    const player = GrindPlayer.getGrindPlayer(id, javascriptCallbackFunction);\n    ref.current.player = player;\n    return () => {\n      player.destroy();\n      ref.current = null;\n    };\n  }, [id, javascriptCallbackFunction]);\n\n  React.useEffect(() => {\n    ref.current.loading = loading;\n    ref.current.ended = ended;\n    ref.current.muted = muted;\n    ref.current.volume = volume;\n  }, [loading, ended, muted, volume]);\n\n  React.useEffect(() => {\n    dispatch({ type: 'reset', payload: { loading: !!src } });\n  }, [src]);\n\n  return {\n    ref,\n    dispatch,\n    id,\n    loading,\n    prevented,\n    paused,\n    ended,\n    seeking,\n    waiting,\n    duration,\n    currentTime,\n    buffered,\n    muted,\n    volume,\n    pictureInPictureEnabled,\n    pip,\n    fullscreen,\n    playbackRate,\n    javascriptCallbackFunction,\n    kernelMsg,\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSWF from 'react-swf';\nimport './GrindPlayer.swf';\nimport './flashlsOSMF.swf';\nimport ReactPlayerContext from '../ReactPlayerContext';\nimport useGrindPlayer from './useGrindPlayer';\nimport useState from './useState';\nimport useTime from './useTime';\nimport useVolume from './useVolume';\nimport styles from './index.module.less';\n\nconst GrindPlayer = ({ live, src, type, grindPlayerSwf, flashlsOSMFSwf }) => {\n  const { ref, dispatch, id, javascriptCallbackFunction, ...state } = useGrindPlayer({ src });\n\n  const stateProps = useState({ ref, dispatch });\n  const timeProps = useTime({ ref, dispatch });\n  const volumeProps = useVolume({ ref, dispatch });\n\n  return (\n    <div className={styles.grindPlayer}>\n      {src && (\n        <ReactSWF\n          id={id}\n          src={grindPlayerSwf}\n          width=\"100%\"\n          height=\"100%\"\n          wmode=\"opaque\"\n          allowFullScreen\n          allowScriptAccess=\"always\"\n          bgcolor=\"#000000\"\n          flashVars={{\n            src,\n            autoPlay: true,\n            bufferTime: 0.5,\n            streamType: live ? 'live' : 'recorded',\n            plugin_hls: 'application/x-mpegURL' === type ? flashlsOSMFSwf : undefined,\n            javascriptCallbackFunction,\n          }}\n        />\n      )}\n      <ReactPlayerContext.Provider\n        value={{\n          live,\n          src,\n          ...state,\n          ...stateProps,\n          ...timeProps,\n          ...volumeProps,\n        }}\n      />\n    </div>\n  );\n};\n\nGrindPlayer.propTypes = {\n  live: PropTypes.bool,\n  src: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  grindPlayerSwf: PropTypes.string,\n  flashlsOSMFSwf: PropTypes.string,\n};\n\nGrindPlayer.defaultProps = {\n  live: true,\n  grindPlayerSwf: 'http://unpkg.com/reactjs-player/dist/GrindPlayer.swf',\n  flashlsOSMFSwf: 'http://unpkg.com/reactjs-player/dist/flashlsOSMF.swf',\n};\n\nexport default React.memo(GrindPlayer);\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onPlayClick = React.useCallback(() => {\n    if (ref.current.player) {\n      if (ref.current.ended) {\n        ref.current.player.invoker('seek', 0);\n      }\n      ref.current.player.invoker('play2');\n    }\n    dispatch({ type: 'update', payload: { paused: false } });\n  }, [ref, dispatch]);\n\n  const onPauseClick = React.useCallback(() => {\n    if (ref.current.player) {\n      ref.current.player.invoker('pause');\n    }\n    dispatch({ type: 'update', payload: { paused: true } });\n  }, [ref, dispatch]);\n\n  const onCanPlayThrough = React.useCallback(() => {\n    if (ref.current.loading) {\n      dispatch({ type: 'update', payload: { loading: false } });\n    }\n    dispatch({ type: 'update', payload: { waiting: false } });\n  }, [ref, dispatch]);\n\n  const onPause = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { paused: true } });\n  }, [dispatch]);\n\n  const onPlaying = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { paused: false, ended: false } });\n  }, [dispatch]);\n\n  const onEnded = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { ended: true } });\n  }, [dispatch]);\n\n  const onSeeked = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { seeking: false } });\n  }, [dispatch]);\n\n  const onSeeking = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { seeking: true } });\n  }, [dispatch]);\n\n  const onWaiting = React.useCallback(() => {\n    dispatch({ type: 'update', payload: { waiting: true } });\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    const { player } = ref.current;\n    if (!player) {\n      return () => {};\n    }\n    player.addEventListener('canplaythrough', onCanPlayThrough);\n    player.addEventListener('pause', onPause);\n    player.addEventListener('playing', onPlaying);\n    player.addEventListener('ended', onEnded);\n    player.addEventListener('seeked', onSeeked);\n    player.addEventListener('seeking', onSeeking);\n    player.addEventListener('waiting', onWaiting);\n    return () => {\n      player.removeEventListener('canplaythrough', onCanPlayThrough);\n      player.removeEventListener('pause', onPause);\n      player.removeEventListener('playing', onPlaying);\n      player.removeEventListener('ended', onEnded);\n      player.removeEventListener('seeked', onSeeked);\n      player.removeEventListener('seeking', onSeeking);\n      player.removeEventListener('waiting', onWaiting);\n    };\n  }, [ref, onCanPlayThrough, onPause, onPlaying, onEnded, onSeeked, onSeeking, onWaiting]);\n\n  return { onPauseClick, onPlayClick };\n};\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onDurationChange = React.useCallback(\n    e => {\n      const v = e.duration;\n      dispatch({ type: 'update', payload: { duration: Number.isNaN(v) || Number.isFinite(v) || !v ? v : 0 } });\n    },\n    [dispatch],\n  );\n\n  const onTimeUpdate = React.useCallback(\n    e => {\n      if (Number.isNaN(e.currentTime)) {\n        return;\n      }\n      dispatch({ type: 'update', payload: { currentTime: e.currentTime } });\n    },\n    [dispatch],\n  );\n\n  const onProgress = React.useCallback(e => dispatch({ type: 'update', payload: { buffered: e.buffered } }), [\n    dispatch,\n  ]);\n\n  const changeCurrentTime = React.useCallback(\n    t => {\n      const v = parseFloat(t);\n      if (Number.isNaN(v) || !ref.current || !ref.current.player) {\n        return;\n      }\n      ref.current.player.invoker('seek', v);\n      dispatch({ type: 'update', payload: { currentTime: v } });\n    },\n    [ref, dispatch],\n  );\n\n  React.useEffect(() => {\n    const { player } = ref.current;\n    if (!player) {\n      return () => {};\n    }\n    player.addEventListener('durationchange', onDurationChange);\n    player.addEventListener('timeupdate', onTimeUpdate);\n    player.addEventListener('progress', onProgress);\n    return () => {\n      player.removeEventListener('durationchange', onDurationChange);\n      player.removeEventListener('timeupdate', onTimeUpdate);\n      player.removeEventListener('progress', onProgress);\n    };\n  }, [ref, onDurationChange, onTimeUpdate, onProgress]);\n\n  return { changeCurrentTime };\n};\n","import React from 'react';\n\nexport default ({ ref, dispatch }) => {\n  const onVolumeChange = React.useCallback(e => dispatch({ type: 'update', payload: e }), [dispatch]);\n\n  const onMutedClick = React.useCallback(() => {\n    if (!ref.current || !ref.current.player) {\n      return;\n    }\n    const { muted } = ref.current;\n    ref.current.player.invoker('setMuted', !muted);\n    if (0 === ref.current.volume && muted) {\n      ref.current.player.invoker('setVolume', 1.0);\n    }\n  }, [ref]);\n\n  const changeVolume = React.useCallback(\n    v => {\n      if (ref.current && ref.current.player) {\n        ref.current.player.invoker('setVolume', v);\n      }\n    },\n    [ref],\n  );\n\n  React.useEffect(() => {\n    if (!ref.current || !ref.current.player) {\n      return () => {};\n    }\n    const { player } = ref.current;\n    player.addEventListener('volumechange', onVolumeChange);\n    return () => {\n      player.removeEventListener('volumechange', onVolumeChange);\n    };\n  }, [ref, onVolumeChange]);\n\n  return { onMutedClick, changeVolume };\n};\n","import ReactPlayer from './ReactPlayer';\nimport GrindPlayer from './GrindPlayer';\nimport ReactPlayerContext from './ReactPlayerContext';\nimport ReactPlayerSkin from './ReactPlayerSkin';\n\nReactPlayer.GrindPlayer = GrindPlayer;\nReactPlayer.ReactPlayerContext = ReactPlayerContext;\nReactPlayer.ReactPlayerSkin = ReactPlayerSkin;\n\nexport default ReactPlayer;\n","import React from 'react';\nimport UAParser from 'ua-parser-js';\nimport Hls from 'hls.js';\nimport flvjs from 'flv.js';\nimport { Form, Select, Input, Button, Tabs, Descriptions } from 'antd';\nimport { GithubOutlined } from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport ReactjsPlayer from 'reactjs-player';\nimport grindPlayerSwf from 'reactjs-player/dist/GrindPlayer.swf';\nimport flashlsOSMFSwf from 'reactjs-player/dist/flashlsOSMF.swf';\nimport blank16x9 from './blank16x9.png';\nimport './App.css';\n\nconst GrindPlayer = ReactjsPlayer.GrindPlayer;\n// const ReactPlayerContext = ReactjsPlayer.ReactPlayerContext;\n\nconst delay = timeout =>\n  new Promise(resolve => {\n    global.setTimeout(resolve, timeout);\n  });\n\nconst getSupportedList = ua => {\n  if (ua.device.type) {\n    // 非 PC 浏览器\n    return [\n      {\n        key: 'native',\n        kernel: 'native',\n        src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n        type: 'application/x-mpegURL',\n      },\n      { key: 'nativelive', kernel: 'native', live: true, src: '', type: 'application/x-mpegURL' },\n    ];\n  }\n\n  global.Hls = Hls;\n  global.flvjs = flvjs;\n\n  const list = [];\n  if (Hls.isSupported()) {\n    list.push({\n      key: 'hlsjs',\n      kernel: 'hlsjs',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    });\n  }\n  if (flvjs.isSupported()) {\n    const featureList = flvjs.getFeatureList();\n    if (featureList.networkStreamIO) {\n      list.push({\n        key: 'flvjs',\n        kernel: 'flvjs',\n        live: true,\n        src: '',\n        type: 'video/x-flv',\n        config: {\n          isLive: true,\n          enableStashBuffer: false,\n          autoCleanupSourceBuffer: true,\n          stashInitialSize: 16 * 1024,\n          fixAudioTimestampGap: false,\n        },\n      });\n    }\n  }\n  // mac OS 没有测试环境，暂且认为没有问题\n  if ('Mac OS' === ua.os.name) {\n    list.push(\n      {\n        key: 'native',\n        kernel: 'native',\n        live: false,\n        src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n        type: 'application/x-mpegURL',\n      },\n      { key: 'nativelive', kernel: 'native', live: true, src: '', type: 'application/x-mpegURL' },\n    );\n  }\n  list.push(\n    { key: 'rtmp', kernel: 'flash', live: true, src: 'rtmp://livetv.dhtv.cn:1935/live/news', type: 'video/rtmp' },\n    {\n      key: 'flashls',\n      kernel: 'flash',\n      live: false,\n      src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8',\n      type: 'application/x-mpegURL',\n    },\n    {\n      key: 'native',\n      kernel: 'native',\n      live: false,\n      src: 'http://cdn.tencent.neigou.com/Public/Home/mobileAsset/images/tencent2018/video5.mp4',\n      type: 'video/mp4',\n    },\n  );\n  return list;\n};\n\nconst App = React.memo(() => {\n  const [list, setList] = React.useState(null);\n  const [info, setInfo] = React.useState(null);\n  const [src, setSrc] = React.useState('');\n  const [videoProps, setVideoProps] = React.useState(null);\n\n  const [form] = Form.useForm();\n\n  React.useEffect(() => {\n    const ua = UAParser(global.navigator.userAgent);\n    if (ua.device.type) {\n      setVideoProps({\n        playsInline: true,\n        'webkit-playsinline': 'true',\n        'x5-video-player-type': 'h5-page',\n        'x5-video-orientation': 'landscape|portrait',\n      });\n    }\n    const supportedList = getSupportedList(ua);\n    setList(supportedList);\n    setInfo(supportedList[0]);\n  }, []);\n\n  const onChange = React.useCallback(\n    v => {\n      const item = list.find(it => it.key === v);\n      form.setFieldsValue({ src: item.src });\n    },\n    [form, list],\n  );\n\n  const onSubmit = React.useCallback(\n    async values => {\n      setSrc('');\n      await delay(50);\n      const item = list.find(it => it.key === values.type);\n      setInfo(item);\n      setSrc(values.src);\n    },\n    [list],\n  );\n\n  const onVideoEvent = React.useCallback(e => {\n    const log = console.log;\n    log(`e.type: ${e.type}`);\n    // if ('durationchange' === e.type) {\n    //   log(`durationchange: ${e.target.duration}`);\n    // }\n  }, []);\n\n  if (!list || 0 === list.length) {\n    return null;\n  }\n\n  return (\n    <div className=\"container\">\n      <header className=\"header\">\n        <Form\n          className=\"form\"\n          layout=\"inline\"\n          form={form}\n          onFinish={onSubmit}\n          initialValues={{\n            type: list[0].key,\n            src: list[0].src,\n          }}\n        >\n          <Form.Item className=\"type\" name=\"type\">\n            <Select onChange={onChange}>\n              {list.map(it => (\n                <Select.Option key={it.key} value={it.key}>\n                  {it.key}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item className=\"src\" name=\"src\">\n            <Input />\n          </Form.Item>\n          <Form.Item className=\"submit\">\n            <Button type=\"primary\" htmlType=\"submit\">\n              播放\n            </Button>\n          </Form.Item>\n        </Form>\n      </header>\n      <main className=\"main\">\n        <img className=\"blankImg\" src={blank16x9} alt=\"\" />\n        {'flash' !== info.kernel && (\n          <ReactjsPlayer\n            live={info.live}\n            kernel={info.kernel}\n            type={info.type}\n            config={info.config || {}}\n            src={src}\n            videoProps={{\n              ...videoProps,\n              onCanPlay: onVideoEvent,\n              onDurationChange: onVideoEvent,\n              onPause: onVideoEvent,\n              onPlay: onVideoEvent,\n              onPlaying: onVideoEvent,\n              onEnded: onVideoEvent,\n              onSeeked: onVideoEvent,\n              onSeeking: onVideoEvent,\n              onCanPlayThrough: onVideoEvent,\n              onEmptied: onVideoEvent,\n              onEncrypted: onVideoEvent,\n              onError: onVideoEvent,\n              onLoadedData: onVideoEvent,\n              onLoadedMetadata: onVideoEvent,\n              onLoadStart: onVideoEvent,\n              onRateChange: onVideoEvent,\n              onStalled: onVideoEvent,\n              onSuspend: onVideoEvent,\n              onVolumeChange: onVideoEvent,\n              onWaiting: onVideoEvent,\n              onAbort: onVideoEvent,\n            }}\n          />\n        )}\n        {'flash' === info.kernel && (\n          <GrindPlayer {...info} src={src} grindPlayerSwf={grindPlayerSwf} flashlsOSMFSwf={flashlsOSMFSwf} />\n        )}\n      </main>\n      <aside className=\"aside\">\n        <div className=\"asideContainer\">\n          <Tabs className=\"asideTabs\" defaultActiveKey=\"info\">\n            <Tabs.TabPane tab=\"信息\" key=\"info\">\n              <Scrollbars>\n                <div className=\"infoTabPane\">\n                  <Descriptions title=\"参数\" column={1} size=\"small\">\n                    <Descriptions.Item label=\"kernel\">{info.kernel}</Descriptions.Item>\n                    <Descriptions.Item label=\"live\">{info.live ? '是' : '否'}</Descriptions.Item>\n                    <Descriptions.Item label=\"src\">\n                      <span className=\"srcValue\">{src}</span>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"type\">{info.type}</Descriptions.Item>\n                  </Descriptions>\n                </div>\n              </Scrollbars>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"接口测试\" key=\"interface\">\n              <Scrollbars>\n                <div className=\"infoTabPane\">暂时删除接口测试功能</div>\n              </Scrollbars>\n            </Tabs.TabPane>\n          </Tabs>\n          <div className=\"asideFooter\">\n            <a href=\"https://github.com/goblin-laboratory/reactjs-player\">\n              <GithubOutlined />\n              &nbsp; Github\n            </a>\n          </div>\n        </div>\n      </aside>\n      <footer className=\"footer\">手机观看</footer>\n    </div>\n  );\n});\n\nexport default App;\n","module.exports = __webpack_public_path__ + \"static/media/GrindPlayer.4a087377.swf\";","module.exports = __webpack_public_path__ + \"static/media/flashlsOSMF.f801e174.swf\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAYAAAA7KqwyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wMi0yOFQxODoyNDozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDgtMjBUMTQ6Mzg6MzkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDljYTEwNTMtNTU4Ny1lYjQ4LWEyMzEtZWY0MTUzNjRjYmY2IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6Y2QyYjVhMTMtN2E2NC1lZDQ3LWE2NDctZWQwNDExMDgxMTFmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6M2NkZWQyZmItOWFmMi1lODQ2LWE5MGYtNTdhOGUyYzk3OGY2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozY2RlZDJmYi05YWYyLWU4NDYtYTkwZi01N2E4ZTJjOTc4ZjYiIHN0RXZ0OndoZW49IjIwMTgtMDItMjhUMTg6MjQ6MzQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5Y2ExMDUzLTU1ODctZWI0OC1hMjMxLWVmNDE1MzY0Y2JmNiIgc3RFdnQ6d2hlbj0iMjAxOC0wOC0yMFQxNDozODozOSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7p7qgTAAAAFklEQVQokWP4//8/AyWYIs2jBgwbAwCgra5gnLDJrQAAAABJRU5ErkJggg==\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport VConsole from 'vconsole';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nnew VConsole();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}